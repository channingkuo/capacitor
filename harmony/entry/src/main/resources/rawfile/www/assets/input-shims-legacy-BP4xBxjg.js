System.register(["./index-legacy-CGN9q4W7.js"],(function(e,t){"use strict";var o,n,i,r,s,a,d,l,c,u,v;return{setters:[e=>{o=e.s,n=e.K,i=e.C,r=e.D,s=e.z,a=e.y,d=e.E,l=e.r,c=e.F,u=e.G,v=e.H}],execute:function(){
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const t=new WeakMap,m=(e,o,n,i=0,r=!1)=>{t.has(e)!==n&&(n?f(e,o,i,r):y(e,o))},f=(e,o,n,i=!1)=>{const r=o.parentNode,s=o.cloneNode(!1);s.classList.add("cloned-input"),s.tabIndex=-1,i&&(s.disabled=!0),r.appendChild(s),t.set(e,s);const a="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",o.style.transform=`translate3d(${a}px,${n}px,0) scale(0)`},y=(e,o)=>{const n=t.get(e);n&&(t.delete(e),n.remove()),e.style.pointerEvents="",o.style.transform=""},p="input, textarea, [no-blur], [contenteditable]",w=(e,t,o,n)=>{const i=e.top,r=e.bottom,s=t.top,a=s+15,d=Math.min(t.bottom,n-o)-50-r,l=a-i,c=Math.round(d<0?-d:l>0?-l:0),u=Math.min(c,i-s),v=Math.abs(u)/.3;return{scrollAmount:u,scrollDuration:Math.min(400,Math.max(150,v)),scrollPadding:o,inputSafeY:4-(i-a)}},h="$ionPaddingTimer",E=(e,t,o)=>{const n=e[h];n&&clearTimeout(n),t>0?e.style.setProperty("--keyboard-offset",`${t}px`):e[h]=setTimeout((()=>{e.style.setProperty("--keyboard-offset","0px"),o&&o()}),120)},b=(e,t,o)=>{e.addEventListener("focusout",(()=>{t&&E(t,0,o)}),{once:!0})};let g=0;const S="data-ionic-skip-scroll-assist",L=e=>{document.activeElement!==e&&(e.setAttribute(S,"true"),e.focus())},D=async(e,t,o,n,i,r,s=!1,a=0,d=!0)=>{if(!o&&!n)return;const l=((e,t,o,n)=>{var i;const r=null!==(i=e.closest("ion-item,[ion-item]"))&&void 0!==i?i:e;return w(r.getBoundingClientRect(),t.getBoundingClientRect(),o,n)})(e,o||n,i,a);if(o&&Math.abs(l.scrollAmount)<4)return L(t),void(r&&null!==o&&(E(o,g),b(t,o,(()=>g=0))));if(m(e,t,!0,l.inputSafeY,s),L(t),c((()=>e.click())),r&&o&&(g=l.scrollPadding,E(o,g)),"undefined"!=typeof window){let n;const i=async()=>{void 0!==n&&clearTimeout(n),window.removeEventListener("ionKeyboardDidShow",s),window.removeEventListener("ionKeyboardDidShow",i),o&&await v(o,0,l.scrollAmount,l.scrollDuration),m(e,t,!1,l.inputSafeY),L(t),r&&b(t,o,(()=>g=0))},s=()=>{window.removeEventListener("ionKeyboardDidShow",s),window.addEventListener("ionKeyboardDidShow",i)};if(o){const e=await u(o),r=e.scrollHeight-e.clientHeight;if(d&&l.scrollAmount>r-e.scrollTop)return"password"===t.type?(l.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",s)):window.addEventListener("ionKeyboardDidShow",i),void(n=setTimeout(i,1e3))}i()}};e("startInputShims",(async(e,t)=>{if(void 0===o)return;const c="ios"===t,u="android"===t,v=e.getNumber("keyboardHeight",290),f=e.getBoolean("scrollAssist",!0),y=e.getBoolean("hideCaretOnScroll",c),w=e.getBoolean("inputBlurring",!1),h=e.getBoolean("scrollPadding",!0),E=Array.from(o.querySelectorAll("ion-input, ion-textarea")),b=new WeakMap,g=new WeakMap,L=await n.getResizeMode(),x=async e=>{await new Promise((t=>s(e,t)));const t=e.shadowRoot||e,o=t.querySelector("input")||t.querySelector("textarea"),n=a(e),c=n?null:e.closest("ion-footer");if(o){if(n&&y&&!b.has(e)){const t=((e,t,o)=>{if(!o||!t)return()=>{};const n=o=>{var n;(n=t)===n.getRootNode().activeElement&&m(e,t,o)},s=()=>m(e,t,!1),a=()=>n(!0),d=()=>n(!1);return i(o,"ionScrollStart",a),i(o,"ionScrollEnd",d),t.addEventListener("blur",s),()=>{r(o,"ionScrollStart",a),r(o,"ionScrollEnd",d),t.removeEventListener("blur",s)}})(e,o,n);b.set(e,t)}if("date"!==o.type&&"datetime-local"!==o.type&&(n||c)&&f&&!g.has(e)){const t=((e,t,o,n,i,r,s,a=!1)=>{const c=r&&(void 0===s||s.mode===d.None);let u=!1;const v=void 0!==l?l.innerHeight:0,m=i=>{!1!==u?D(e,t,o,n,i.detail.keyboardHeight,c,a,v,!1):u=!0},f=()=>{u=!1,null==l||l.removeEventListener("ionKeyboardDidShow",m),e.removeEventListener("focusout",f)},y=async()=>{t.hasAttribute(S)?t.removeAttribute(S):(D(e,t,o,n,i,c,a,v),null==l||l.addEventListener("ionKeyboardDidShow",m),e.addEventListener("focusout",f))};return e.addEventListener("focusin",y),()=>{e.removeEventListener("focusin",y),null==l||l.removeEventListener("ionKeyboardDidShow",m),e.removeEventListener("focusout",f)}})(e,o,n,c,v,h,L,u);g.set(e,t)}}};w&&(()=>{let e=!0,t=!1;const o=document,n=()=>{t=!0},r=()=>{e=!0},s=n=>{if(t)return void(t=!1);const i=o.activeElement;if(!i)return;if(i.matches(p))return;const r=n.target;r!==i&&(r.matches(p)||r.closest(p)||(e=!1,setTimeout((()=>{e||i.blur()}),50)))};i(o,"ionScrollStart",n),o.addEventListener("focusin",r,!0),o.addEventListener("touchend",s,!1)})();for(const o of E)x(o);o.addEventListener("ionInputDidLoad",(e=>{x(e.detail)})),o.addEventListener("ionInputDidUnload",(e=>{(e=>{if(y){const t=b.get(e);t&&t(),b.delete(e)}if(f){const t=g.get(e);t&&t(),g.delete(e)}})(e.detail)}))}))}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtc2hpbXMtbGVnYWN5LUJQNHhCeGpnLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvY29tcG9uZW50cy9pbnB1dC1zaGltcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgdyBhcyB3aW4sIGQgYXMgZG9jIH0gZnJvbSAnLi9pbmRleDUuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRTY3JvbGxFbGVtZW50LCBjIGFzIHNjcm9sbEJ5UG9pbnQsIGEgYXMgZmluZENsb3Nlc3RJb25Db250ZW50IH0gZnJvbSAnLi9pbmRleDguanMnO1xuaW1wb3J0IHsgYSBhcyBhZGRFdmVudExpc3RlbmVyLCBiIGFzIHJlbW92ZUV2ZW50TGlzdGVuZXIsIHIgYXMgcmFmLCBjIGFzIGNvbXBvbmVudE9uUmVhZHkgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuaW1wb3J0IHsgYSBhcyBLZXlib2FyZFJlc2l6ZSwgSyBhcyBLZXlib2FyZCB9IGZyb20gJy4va2V5Ym9hcmQuanMnO1xuXG5jb25zdCBjbG9uZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWxvY2F0ZUlucHV0ID0gKGNvbXBvbmVudEVsLCBpbnB1dEVsLCBzaG91bGRSZWxvY2F0ZSwgaW5wdXRSZWxhdGl2ZVkgPSAwLCBkaXNhYmxlZENsb25lZElucHV0ID0gZmFsc2UpID0+IHtcbiAgICBpZiAoY2xvbmVNYXAuaGFzKGNvbXBvbmVudEVsKSA9PT0gc2hvdWxkUmVsb2NhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkUmVsb2NhdGUpIHtcbiAgICAgICAgYWRkQ2xvbmUoY29tcG9uZW50RWwsIGlucHV0RWwsIGlucHV0UmVsYXRpdmVZLCBkaXNhYmxlZENsb25lZElucHV0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlbW92ZUNsb25lKGNvbXBvbmVudEVsLCBpbnB1dEVsKTtcbiAgICB9XG59O1xuY29uc3QgaXNGb2N1c2VkID0gKGlucHV0KSA9PiB7XG4gICAgLyoqXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05vZGUvZ2V0Um9vdE5vZGVcbiAgICAgKiBDYWxsaW5nIGdldFJvb3ROb2RlIG9uIGFuIGVsZW1lbnQgaW4gc3RhbmRhcmQgd2ViIHBhZ2Ugd2lsbCByZXR1cm4gSFRNTERvY3VtZW50LlxuICAgICAqIENhbGxpbmcgZ2V0Um9vdE5vZGUgb24gYW4gZWxlbWVudCBpbnNpZGUgb2YgdGhlIFNoYWRvdyBET00gd2lsbCByZXR1cm4gdGhlIGFzc29jaWF0ZWQgU2hhZG93Um9vdC5cbiAgICAgKiBDYWxsaW5nIGdldFJvb3ROb2RlIG9uIGFuIGVsZW1lbnQgdGhhdCBpcyBub3QgYXR0YWNoZWQgdG8gYSBkb2N1bWVudC9zaGFkb3cgdHJlZSB3aWxsIHJldHVyblxuICAgICAqIHRoZSByb290IG9mIHRoZSBET00gdHJlZSBpdCBiZWxvbmdzIHRvLlxuICAgICAqIGlzRm9jdXNlZCBpcyB1c2VkIGZvciB0aGUgaGlkZS1jYXJldCB1dGlsaXR5IHdoaWNoIG9ubHkgY29uc2lkZXJzIGlucHV0L3RleHRhcmVhIGVsZW1lbnRzXG4gICAgICogdGhhdCBhcmUgcHJlc2VudCBpbiB0aGUgRE9NLCBzbyB3ZSBkb24ndCBzZXQgdHlwZXMgZm9yIHRoYXQgZmluYWwgY2FzZSBzaW5jZSBpdCBkb2VzIG5vdCBhcHBseS5cbiAgICAgKi9cbiAgICByZXR1cm4gaW5wdXQgPT09IGlucHV0LmdldFJvb3ROb2RlKCkuYWN0aXZlRWxlbWVudDtcbn07XG5jb25zdCBhZGRDbG9uZSA9IChjb21wb25lbnRFbCwgaW5wdXRFbCwgaW5wdXRSZWxhdGl2ZVksIGRpc2FibGVkQ2xvbmVkSW5wdXQgPSBmYWxzZSkgPT4ge1xuICAgIC8vIHRoaXMgYWxsb3dzIGZvciB0aGUgYWN0dWFsIGlucHV0IHRvIHJlY2VpdmUgdGhlIGZvY3VzIGZyb21cbiAgICAvLyB0aGUgdXNlcidzIHRvdWNoIGV2ZW50LCBidXQgYmVmb3JlIGl0IHJlY2VpdmVzIGZvY3VzLCBpdFxuICAgIC8vIG1vdmVzIHRoZSBhY3R1YWwgaW5wdXQgdG8gYSBsb2NhdGlvbiB0aGF0IHdpbGwgbm90IHNjcmV3XG4gICAgLy8gdXAgdGhlIGFwcCdzIGxheW91dCwgYW5kIGRvZXMgbm90IGFsbG93IHRoZSBuYXRpdmUgYnJvd3NlclxuICAgIC8vIHRvIGF0dGVtcHQgdG8gc2Nyb2xsIHRoZSBpbnB1dCBpbnRvIHBsYWNlIChtZXNzaW5nIHVwIGhlYWRlcnMvZm9vdGVycylcbiAgICAvLyB0aGUgY2xvbmVkIGlucHV0IGZpbGxzIHRoZSBhcmVhIG9mIHdoZXJlIG5hdGl2ZSBpbnB1dCBzaG91bGQgYmVcbiAgICAvLyB3aGlsZSB0aGUgbmF0aXZlIGlucHV0IGZha2VzIG91dCB0aGUgYnJvd3NlciBieSByZWxvY2F0aW5nIGl0c2VsZlxuICAgIC8vIGJlZm9yZSBpdCByZWNlaXZlcyB0aGUgYWN0dWFsIGZvY3VzIGV2ZW50XG4gICAgLy8gV2UgaGlkZSB0aGUgZm9jdXNlZCBpbnB1dCAod2l0aCB0aGUgdmlzaWJsZSBjYXJldCkgaW52aXNpYmxlIGJ5IG1ha2luZyBpdCBzY2FsZSgwKSxcbiAgICBjb25zdCBwYXJlbnRFbCA9IGlucHV0RWwucGFyZW50Tm9kZTtcbiAgICAvLyBET00gV1JJVEVTXG4gICAgY29uc3QgY2xvbmVkRWwgPSBpbnB1dEVsLmNsb25lTm9kZShmYWxzZSk7XG4gICAgY2xvbmVkRWwuY2xhc3NMaXN0LmFkZCgnY2xvbmVkLWlucHV0Jyk7XG4gICAgY2xvbmVkRWwudGFiSW5kZXggPSAtMTtcbiAgICAvKipcbiAgICAgKiBNYWtpbmcgdGhlIGNsb25lZCBpbnB1dCBkaXNhYmxlZCBwcmV2ZW50c1xuICAgICAqIENocm9tZSBmb3IgQW5kcm9pZCBmcm9tIHN0aWxsIHNjcm9sbGluZ1xuICAgICAqIHRoZSBlbnRpcmUgcGFnZSBzaW5jZSB0aGlzIGNsb25lZCBpbnB1dFxuICAgICAqIHdpbGwgYnJpZWZseSBiZSBoaWRkZW4gYnkgdGhlIGtleWJvYXJkXG4gICAgICogZXZlbiB0aG91Z2ggaXQgaXMgbm90IGZvY3VzZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIG5vdCBuZWVkZWQgb24gaU9TLiBXaGlsZSB0aGlzXG4gICAgICogZG9lcyBub3QgY2F1c2UgZnVuY3Rpb25hbCBpc3N1ZXMgb24gaU9TLFxuICAgICAqIHRoZSBpbnB1dCBzdGlsbCBhcHBlYXJzIHNsaWdodGx5IGRpbW1lZCBldmVuXG4gICAgICogaWYgd2Ugc2V0IG9wYWNpdHk6IDEuXG4gICAgICovXG4gICAgaWYgKGRpc2FibGVkQ2xvbmVkSW5wdXQpIHtcbiAgICAgICAgY2xvbmVkRWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChjbG9uZWRFbCk7XG4gICAgY2xvbmVNYXAuc2V0KGNvbXBvbmVudEVsLCBjbG9uZWRFbCk7XG4gICAgY29uc3QgZG9jID0gY29tcG9uZW50RWwub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCB0eCA9IGRvYy5kaXIgPT09ICdydGwnID8gOTk5OSA6IC05OTk5O1xuICAgIGNvbXBvbmVudEVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgaW5wdXRFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt0eH1weCwke2lucHV0UmVsYXRpdmVZfXB4LDApIHNjYWxlKDApYDtcbn07XG5jb25zdCByZW1vdmVDbG9uZSA9IChjb21wb25lbnRFbCwgaW5wdXRFbCkgPT4ge1xuICAgIGNvbnN0IGNsb25lID0gY2xvbmVNYXAuZ2V0KGNvbXBvbmVudEVsKTtcbiAgICBpZiAoY2xvbmUpIHtcbiAgICAgICAgY2xvbmVNYXAuZGVsZXRlKGNvbXBvbmVudEVsKTtcbiAgICAgICAgY2xvbmUucmVtb3ZlKCk7XG4gICAgfVxuICAgIGNvbXBvbmVudEVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnJztcbiAgICBpbnB1dEVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xufTtcbi8qKlxuICogRmFjdG9yaW5nIGluIDUwcHggZ2l2ZXMgdXMgc29tZSByb29tXG4gKiBpbiBjYXNlIHRoZSBrZXlib2FyZCBzaG93cyBwYXNzd29yZC9hdXRvZmlsbCBiYXJzXG4gKiBhc3luY2hyb25vdXNseS5cbiAqL1xuY29uc3QgU0NST0xMX0FNT1VOVF9QQURESU5HID0gNTA7XG5cbmNvbnN0IGVuYWJsZUhpZGVDYXJldE9uU2Nyb2xsID0gKGNvbXBvbmVudEVsLCBpbnB1dEVsLCBzY3JvbGxFbCkgPT4ge1xuICAgIGlmICghc2Nyb2xsRWwgfHwgIWlucHV0RWwpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc2Nyb2xsSGlkZUNhcmV0ID0gKHNob3VsZEhpZGVDYXJldCkgPT4ge1xuICAgICAgICBpZiAoaXNGb2N1c2VkKGlucHV0RWwpKSB7XG4gICAgICAgICAgICByZWxvY2F0ZUlucHV0KGNvbXBvbmVudEVsLCBpbnB1dEVsLCBzaG91bGRIaWRlQ2FyZXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvbkJsdXIgPSAoKSA9PiByZWxvY2F0ZUlucHV0KGNvbXBvbmVudEVsLCBpbnB1dEVsLCBmYWxzZSk7XG4gICAgY29uc3QgaGlkZUNhcmV0ID0gKCkgPT4gc2Nyb2xsSGlkZUNhcmV0KHRydWUpO1xuICAgIGNvbnN0IHNob3dDYXJldCA9ICgpID0+IHNjcm9sbEhpZGVDYXJldChmYWxzZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihzY3JvbGxFbCwgJ2lvblNjcm9sbFN0YXJ0JywgaGlkZUNhcmV0KTtcbiAgICBhZGRFdmVudExpc3RlbmVyKHNjcm9sbEVsLCAnaW9uU2Nyb2xsRW5kJywgc2hvd0NhcmV0KTtcbiAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbkJsdXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoc2Nyb2xsRWwsICdpb25TY3JvbGxTdGFydCcsIGhpZGVDYXJldCk7XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoc2Nyb2xsRWwsICdpb25TY3JvbGxFbmQnLCBzaG93Q2FyZXQpO1xuICAgICAgICBpbnB1dEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbkJsdXIpO1xuICAgIH07XG59O1xuXG5jb25zdCBTS0lQX1NFTEVDVE9SID0gJ2lucHV0LCB0ZXh0YXJlYSwgW25vLWJsdXJdLCBbY29udGVudGVkaXRhYmxlXSc7XG5jb25zdCBlbmFibGVJbnB1dEJsdXJyaW5nID0gKCkgPT4ge1xuICAgIGxldCBmb2N1c2VkID0gdHJ1ZTtcbiAgICBsZXQgZGlkU2Nyb2xsID0gZmFsc2U7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQ7XG4gICAgY29uc3Qgb25TY3JvbGwgPSAoKSA9PiB7XG4gICAgICAgIGRpZFNjcm9sbCA9IHRydWU7XG4gICAgfTtcbiAgICBjb25zdCBvbkZvY3VzaW4gPSAoKSA9PiB7XG4gICAgICAgIGZvY3VzZWQgPSB0cnVlO1xuICAgIH07XG4gICAgY29uc3Qgb25Ub3VjaGVuZCA9IChldikgPT4ge1xuICAgICAgICAvLyBpZiBhcHAgZGlkIHNjcm9sbCByZXR1cm4gZWFybHlcbiAgICAgICAgaWYgKGRpZFNjcm9sbCkge1xuICAgICAgICAgICAgZGlkU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlID0gZG9jLmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmICghYWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gb25seSBibHVyIGlmIHRoZSBhY3RpdmUgZWxlbWVudCBpcyBhIHRleHQtaW5wdXQgb3IgYSB0ZXh0YXJlYVxuICAgICAgICBpZiAoYWN0aXZlLm1hdGNoZXMoU0tJUF9TRUxFQ1RPUikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgc2VsZWN0ZWQgdGFyZ2V0IGlzIHRoZSBhY3RpdmUgZWxlbWVudCwgZG8gbm90IGJsdXJcbiAgICAgICAgY29uc3QgdGFwcGVkID0gZXYudGFyZ2V0O1xuICAgICAgICBpZiAodGFwcGVkID09PSBhY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFwcGVkLm1hdGNoZXMoU0tJUF9TRUxFQ1RPUikgfHwgdGFwcGVkLmNsb3Nlc3QoU0tJUF9TRUxFQ1RPUikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb2N1c2VkID0gZmFsc2U7XG4gICAgICAgIC8vIFRPRE8gRlctMjc5NjogZmluZCBhIGJldHRlciB3YXksIHdoeSA1MG1zP1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICghZm9jdXNlZCkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZS5ibHVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwKTtcbiAgICB9O1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZG9jLCAnaW9uU2Nyb2xsU3RhcnQnLCBvblNjcm9sbCk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBvbkZvY3VzaW4sIHRydWUpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hlbmQsIGZhbHNlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKGRvYywgJ2lvblNjcm9sbFN0YXJ0Jywgb25TY3JvbGwsIHRydWUpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIG9uRm9jdXNpbiwgdHJ1ZSk7XG4gICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hlbmQsIGZhbHNlKTtcbiAgICB9O1xufTtcblxuY29uc3QgU0NST0xMX0FTU0lTVF9TUEVFRCA9IDAuMztcbmNvbnN0IGdldFNjcm9sbERhdGEgPSAoY29tcG9uZW50RWwsIGNvbnRlbnRFbCwga2V5Ym9hcmRIZWlnaHQsIHBsYXRmb3JtSGVpZ2h0KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGl0ZW1FbCA9IChfYSA9IGNvbXBvbmVudEVsLmNsb3Nlc3QoJ2lvbi1pdGVtLFtpb24taXRlbV0nKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29tcG9uZW50RWw7XG4gICAgcmV0dXJuIGNhbGNTY3JvbGxEYXRhKGl0ZW1FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgY29udGVudEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBrZXlib2FyZEhlaWdodCwgcGxhdGZvcm1IZWlnaHQpO1xufTtcbmNvbnN0IGNhbGNTY3JvbGxEYXRhID0gKGlucHV0UmVjdCwgY29udGVudFJlY3QsIGtleWJvYXJkSGVpZ2h0LCBwbGF0Zm9ybUhlaWdodCkgPT4ge1xuICAgIC8vIGNvbXB1dGUgaW5wdXQncyBZIHZhbHVlcyByZWxhdGl2ZSB0byB0aGUgYm9keVxuICAgIGNvbnN0IGlucHV0VG9wID0gaW5wdXRSZWN0LnRvcDtcbiAgICBjb25zdCBpbnB1dEJvdHRvbSA9IGlucHV0UmVjdC5ib3R0b207XG4gICAgLy8gY29tcHV0ZSB2aXNpYmxlIGFyZWFcbiAgICBjb25zdCB2aXNpYmxlQXJlYVRvcCA9IGNvbnRlbnRSZWN0LnRvcDtcbiAgICBjb25zdCB2aXNpYmxlQXJlYUJvdHRvbSA9IE1hdGgubWluKGNvbnRlbnRSZWN0LmJvdHRvbSwgcGxhdGZvcm1IZWlnaHQgLSBrZXlib2FyZEhlaWdodCk7XG4gICAgLy8gY29tcHV0ZSBzYWZlIGFyZWFcbiAgICBjb25zdCBzYWZlQXJlYVRvcCA9IHZpc2libGVBcmVhVG9wICsgMTU7XG4gICAgY29uc3Qgc2FmZUFyZWFCb3R0b20gPSB2aXNpYmxlQXJlYUJvdHRvbSAtIFNDUk9MTF9BTU9VTlRfUEFERElORztcbiAgICAvLyBmaWd1cmUgb3V0IGlmIGVhY2ggZWRnZSBvZiB0aGUgaW5wdXQgaXMgd2l0aGluIHRoZSBzYWZlIGFyZWFcbiAgICBjb25zdCBkaXN0YW5jZVRvQm90dG9tID0gc2FmZUFyZWFCb3R0b20gLSBpbnB1dEJvdHRvbTtcbiAgICBjb25zdCBkaXN0YW5jZVRvVG9wID0gc2FmZUFyZWFUb3AgLSBpbnB1dFRvcDtcbiAgICAvLyBkZXNpcmVkU2Nyb2xsQW1vdW50IGlzIHRoZSBuZWdhdGVkIGRpc3RhbmNlIHRvIHRoZSBzYWZlIGFyZWEgYWNjb3JkaW5nIHRvIG91ciBjYWxjdWxhdGlvbnMuXG4gICAgY29uc3QgZGVzaXJlZFNjcm9sbEFtb3VudCA9IE1hdGgucm91bmQoZGlzdGFuY2VUb0JvdHRvbSA8IDAgPyAtZGlzdGFuY2VUb0JvdHRvbSA6IGRpc3RhbmNlVG9Ub3AgPiAwID8gLWRpc3RhbmNlVG9Ub3AgOiAwKTtcbiAgICAvLyBvdXIgY2FsY3VsYXRpb25zIG1ha2Ugc29tZSBhc3N1bXB0aW9ucyB0aGF0IGFyZW4ndCBhbHdheXMgdHJ1ZSwgbGlrZSB0aGUga2V5Ym9hcmQgYmVpbmcgY2xvc2VkIHdoZW4gYW4gaW5wdXRcbiAgICAvLyBnZXRzIGZvY3VzLCBzbyBtYWtlIHN1cmUgd2UgZG9uJ3Qgc2Nyb2xsIHRoZSBpbnB1dCBhYm92ZSB0aGUgdmlzaWJsZSBhcmVhXG4gICAgY29uc3Qgc2Nyb2xsQW1vdW50ID0gTWF0aC5taW4oZGVzaXJlZFNjcm9sbEFtb3VudCwgaW5wdXRUb3AgLSB2aXNpYmxlQXJlYVRvcCk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyhzY3JvbGxBbW91bnQpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gZGlzdGFuY2UgLyBTQ1JPTExfQVNTSVNUX1NQRUVEO1xuICAgIGNvbnN0IHNjcm9sbER1cmF0aW9uID0gTWF0aC5taW4oNDAwLCBNYXRoLm1heCgxNTAsIGR1cmF0aW9uKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Nyb2xsQW1vdW50LFxuICAgICAgICBzY3JvbGxEdXJhdGlvbixcbiAgICAgICAgc2Nyb2xsUGFkZGluZzoga2V5Ym9hcmRIZWlnaHQsXG4gICAgICAgIGlucHV0U2FmZVk6IC0oaW5wdXRUb3AgLSBzYWZlQXJlYVRvcCkgKyA0LFxuICAgIH07XG59O1xuXG5jb25zdCBQQURESU5HX1RJTUVSX0tFWSA9ICckaW9uUGFkZGluZ1RpbWVyJztcbi8qKlxuICogU2Nyb2xsIHBhZGRpbmcgYWRkcyBhZGRpdGlvbmFsIHBhZGRpbmcgdG8gdGhlIGJvdHRvbVxuICogb2YgaW9uLWNvbnRlbnQgc28gdGhhdCB0aGVyZSBpcyBlbm91Z2ggc2Nyb2xsIHNwYWNlXG4gKiBmb3IgYW4gaW5wdXQgdG8gYmUgc2Nyb2xsZWQgYWJvdmUgdGhlIGtleWJvYXJkLiBUaGlzXG4gKiBpcyBuZWVkZWQgaW4gZW52aXJvbm1lbnRzIHdoZXJlIHRoZSB3ZWJ2aWV3IGRvZXMgbm90XG4gKiByZXNpemUgd2hlbiB0aGUga2V5Ym9hcmQgb3BlbnMuXG4gKlxuICogRXhhbXBsZTogSWYgYW4gaW5wdXQgYXQgdGhlIGJvdHRvbSBvZiBpb24tY29udGVudCBpc1xuICogZm9jdXNlZCwgdGhlcmUgaXMgbm8gYWRkaXRpb25hbCBzY3JvbGxpbmcgc3BhY2UgYmVsb3dcbiAqIGl0LCBzbyB0aGUgaW5wdXQgY2Fubm90IGJlIHNjcm9sbGVkIGFib3ZlIHRoZSBrZXlib2FyZC5cbiAqIFNjcm9sbCBwYWRkaW5nIGZpeGVzIHRoaXMgYnkgYWRkaW5nIHBhZGRpbmcgZXF1YWwgdG8gdGhlXG4gKiBoZWlnaHQgb2YgdGhlIGtleWJvYXJkIHRvIHRoZSBib3R0b20gb2YgdGhlIGNvbnRlbnQuXG4gKlxuICogQ29tbW9uIGVudmlyb25tZW50cyB3aGVyZSB0aGlzIGlzIG5lZWRlZDpcbiAqIC0gTW9iaWxlIFNhZmFyaTogVGhlIGtleWJvYXJkIG92ZXJsYXlzIHRoZSBjb250ZW50XG4gKiAtIENhcGFjaXRvci9Db3Jkb3ZhIG9uIGlPUzogVGhlIGtleWJvYXJkIG92ZXJsYXlzIHRoZSBjb250ZW50XG4gKiB3aGVuIHRoZSBLZXlib2FyZFJlc2l6ZSBtb2RlIGlzIHNldCB0byAnbm9uZScuXG4gKi9cbmNvbnN0IHNldFNjcm9sbFBhZGRpbmcgPSAoY29udGVudEVsLCBwYWRkaW5nQW1vdW50LCBjbGVhckNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgdGltZXIgPSBjb250ZW50RWxbUEFERElOR19USU1FUl9LRVldO1xuICAgIGlmICh0aW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cbiAgICBpZiAocGFkZGluZ0Ftb3VudCA+IDApIHtcbiAgICAgICAgY29udGVudEVsLnN0eWxlLnNldFByb3BlcnR5KCctLWtleWJvYXJkLW9mZnNldCcsIGAke3BhZGRpbmdBbW91bnR9cHhgKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRlbnRFbFtQQURESU5HX1RJTUVSX0tFWV0gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnRlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1rZXlib2FyZC1vZmZzZXQnLCAnMHB4Jyk7XG4gICAgICAgICAgICBpZiAoY2xlYXJDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNsZWFyQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTIwKTtcbiAgICB9XG59O1xuLyoqXG4gKiBXaGVuIGFuIGlucHV0IGlzIGFib3V0IHRvIGJlIGZvY3VzZWQsXG4gKiBzZXQgYSB0aW1lb3V0IHRvIGNsZWFyIGFueSBzY3JvbGwgcGFkZGluZ1xuICogb24gdGhlIGNvbnRlbnQuIE5vdGU6IFRoZSBjbGVhcmluZ1xuICogaXMgZG9uZSBvbiBhIHRpbWVvdXQgc28gdGhhdCBpZiB1c2Vyc1xuICogYXJlIG1vdmluZyBmb2N1cyBmcm9tIG9uZSBpbnB1dCB0byB0aGUgbmV4dFxuICogdGhlbiByZS1hZGRpbmcgc2Nyb2xsIHBhZGRpbmcgdG8gdGhlIG5ld1xuICogaW5wdXQgd2l0aCBjYW5jZWwgdGhlIHRpbWVvdXQgdG8gY2xlYXIgdGhlXG4gKiBzY3JvbGwgcGFkZGluZy5cbiAqL1xuY29uc3Qgc2V0Q2xlYXJTY3JvbGxQYWRkaW5nTGlzdGVuZXIgPSAoaW5wdXRFbCwgY29udGVudEVsLCBkb25lQ2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBjbGVhclNjcm9sbFBhZGRpbmcgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgICAgICAgIHNldFNjcm9sbFBhZGRpbmcoY29udGVudEVsLCAwLCBkb25lQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgY2xlYXJTY3JvbGxQYWRkaW5nLCB7IG9uY2U6IHRydWUgfSk7XG59O1xuXG5sZXQgY3VycmVudFBhZGRpbmcgPSAwO1xuY29uc3QgU0tJUF9TQ1JPTExfQVNTSVNUID0gJ2RhdGEtaW9uaWMtc2tpcC1zY3JvbGwtYXNzaXN0JztcbmNvbnN0IGVuYWJsZVNjcm9sbEFzc2lzdCA9IChjb21wb25lbnRFbCwgaW5wdXRFbCwgY29udGVudEVsLCBmb290ZXJFbCwga2V5Ym9hcmRIZWlnaHQsIGVuYWJsZVNjcm9sbFBhZGRpbmcsIGtleWJvYXJkUmVzaXplLCBkaXNhYmxlQ2xvbmVkSW5wdXQgPSBmYWxzZSkgPT4ge1xuICAgIC8qKlxuICAgICAqIFNjcm9sbCBwYWRkaW5nIHNob3VsZCBvbmx5IGJlIGFkZGVkIGlmOlxuICAgICAqIDEuIFRoZSBnbG9iYWwgc2Nyb2xsUGFkZGluZyBjb25maWcgb3B0aW9uXG4gICAgICogaXMgc2V0IHRvIHRydWUuXG4gICAgICogMi4gVGhlIG5hdGl2ZSBrZXlib2FyZCByZXNpemUgbW9kZSBpcyBlaXRoZXIgXCJub25lXCJcbiAgICAgKiAoa2V5Ym9hcmQgb3ZlcmxheXMgd2Vidmlldykgb3IgdW5kZWZpbmVkIChyZXNpemVcbiAgICAgKiBpbmZvcm1hdGlvbiB1bmF2YWlsYWJsZSlcbiAgICAgKiBSZXNpemUgaW5mbyBpcyBhdmFpbGFibGUgb24gQ2FwYWNpdG9yIDQrXG4gICAgICovXG4gICAgY29uc3QgYWRkU2Nyb2xsUGFkZGluZyA9IGVuYWJsZVNjcm9sbFBhZGRpbmcgJiYgKGtleWJvYXJkUmVzaXplID09PSB1bmRlZmluZWQgfHwga2V5Ym9hcmRSZXNpemUubW9kZSA9PT0gS2V5Ym9hcmRSZXNpemUuTm9uZSk7XG4gICAgLyoqXG4gICAgICogVGhpcyB0cmFja3Mgd2hldGhlciBvciBub3QgdGhlIGtleWJvYXJkIGhhcyBiZWVuXG4gICAgICogcHJlc2VudGVkIGZvciBhIHNpbmdsZSBmb2N1c2VkIHRleHQgZmllbGQuIE5vdGVcbiAgICAgKiB0aGF0IGl0IGRvZXMgbm90IHRyYWNrIGlmIHRoZSBrZXlib2FyZCBpcyBvcGVuXG4gICAgICogaW4gZ2VuZXJhbCBzdWNoIGFzIGlmIHRoZSBrZXlib2FyZCBpcyBvcGVuIGZvclxuICAgICAqIGEgZGlmZmVyZW50IGZvY3VzZWQgdGV4dCBmaWVsZC5cbiAgICAgKi9cbiAgICBsZXQgaGFzS2V5Ym9hcmRCZWVuUHJlc2VudGVkRm9yVGV4dEZpZWxkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hlbiBhZGRpbmcgc2Nyb2xsIHBhZGRpbmcgd2UgbmVlZCB0byBrbm93XG4gICAgICogaG93IG11Y2ggb2YgdGhlIHZpZXdwb3J0IHRoZSBrZXlib2FyZCBvYnNjdXJlcy5cbiAgICAgKiBXZSBkbyB0aGlzIGJ5IHN1YnRyYWN0aW5nIHRoZSBrZXlib2FyZCBoZWlnaHRcbiAgICAgKiBmcm9tIHRoZSBwbGF0Zm9ybSBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBJZiB3ZSBjb21wdXRlIHRoaXMgdmFsdWUgd2hlbiBzd2l0Y2hpbmcgYmV0d2VlblxuICAgICAqIGlucHV0cyB0aGVuIHRoZSB3ZWJ2aWV3IG1heSBhbHJlYWR5IGJlIHJlc2l6ZWQuXG4gICAgICogQXQgdGhpcyBwb2ludCwgYHdpbi5pbm5lckhlaWdodGAgaGFzIGFscmVhZHkgYWNjb3VudGVkXG4gICAgICogZm9yIHRoZSBrZXlib2FyZCBtZWFuaW5nIHdlIHdvdWxkIHRoZW4gc3VidHJhY3RcbiAgICAgKiB0aGUga2V5Ym9hcmQgaGVpZ2h0IGFnYWluLiBUaGlzIHdpbGwgcmVzdWx0IGluIHRoZSBpbnB1dFxuICAgICAqIGJlaW5nIHNjcm9sbGVkIG1vcmUgdGhhbiBpdCBuZWVkcyB0by5cbiAgICAgKi9cbiAgICBjb25zdCBwbGF0Zm9ybUhlaWdodCA9IHdpbiAhPT0gdW5kZWZpbmVkID8gd2luLmlubmVySGVpZ2h0IDogMDtcbiAgICAvKipcbiAgICAgKiBTY3JvbGwgYXNzaXN0IGlzIHJ1biB3aGVuIGEgdGV4dCBmaWVsZFxuICAgICAqIGlzIGZvY3VzZWQuIEhvd2V2ZXIsIGl0IG1heSBuZWVkIHRvXG4gICAgICogcmUtcnVuIHdoZW4gdGhlIGtleWJvYXJkIHNpemUgY2hhbmdlc1xuICAgICAqIHN1Y2ggdGhhdCB0aGUgdGV4dCBmaWVsZCBpcyBub3cgaGlkZGVuXG4gICAgICogdW5kZXJuZWF0aCB0aGUga2V5Ym9hcmQuXG4gICAgICogVGhpcyBmdW5jdGlvbiByZS1ydW5zIHNjcm9sbCBhc3Npc3RcbiAgICAgKiB3aGVuIHRoYXQgaGFwcGVucy5cbiAgICAgKlxuICAgICAqIE9uZSBsaW1pdGF0aW9uIG9mIHRoaXMgaXMgb24gYSB3ZWIgYnJvd3NlclxuICAgICAqIHdoZXJlIG5hdGl2ZSBrZXlib2FyZCBBUElzIGRvIG5vdCBoYXZlIGNyb3NzLWJyb3dzZXJcbiAgICAgKiBzdXBwb3J0LiBgaW9uS2V5Ym9hcmREaWRTaG93YCByZWxpZXMgb24gdGhlIFZpc3VhbCBWaWV3cG9ydCBBUEkuXG4gICAgICogVGhpcyBtZWFucyB0aGF0IGlmIHRoZSBrZXlib2FyZCBjaGFuZ2VzIGJ1dCBkb2VzIG5vdCBjaGFuZ2VcbiAgICAgKiBnZW9tZXRyeSwgdGhlbiBzY3JvbGwgYXNzaXN0IHdpbGwgbm90IHJlLXJ1biBldmVuIGlmXG4gICAgICogdGhlIHVzZXIgaGFzIHNjcm9sbGVkIHRoZSB0ZXh0IGZpZWxkIHVuZGVyIHRoZSBrZXlib2FyZC5cbiAgICAgKiBUaGlzIGlzIG5vdCBhIHByb2JsZW0gd2hlbiBydW5uaW5nIGluIENvcmRvdmEvQ2FwYWNpdG9yXG4gICAgICogYmVjYXVzZSBgaW9uS2V5Ym9hcmREaWRTaG93YCB1c2VzIHRoZSBuYXRpdmUgZXZlbnRzXG4gICAgICogd2hpY2ggZmlyZSBldmVyeSB0aW1lIHRoZSBrZXlib2FyZCBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGNvbnN0IGtleWJvYXJkU2hvdyA9IChldikgPT4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGtleWJvYXJkIGhhcyBub3QgeWV0IGJlZW4gcHJlc2VudGVkXG4gICAgICAgICAqIGZvciB0aGlzIHRleHQgZmllbGQgdGhlbiB0aGUgdGV4dCBmaWVsZCBoYXMganVzdFxuICAgICAgICAgKiByZWNlaXZlZCBmb2N1cy4gSW4gdGhhdCBjYXNlLCB0aGUgZm9jdXNpbiBsaXN0ZW5lclxuICAgICAgICAgKiB3aWxsIHJ1biBzY3JvbGwgYXNzaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGhhc0tleWJvYXJkQmVlblByZXNlbnRlZEZvclRleHRGaWVsZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGhhc0tleWJvYXJkQmVlblByZXNlbnRlZEZvclRleHRGaWVsZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE90aGVyd2lzZSwgdGhlIGtleWJvYXJkIGhhcyBhbHJlYWR5IGJlZW4gcHJlc2VudGVkXG4gICAgICAgICAqIGZvciB0aGUgZm9jdXNlZCB0ZXh0IGZpZWxkLlxuICAgICAgICAgKiBUaGlzIG1lYW5zIHRoYXQgdGhlIGtleWJvYXJkIGxpa2VseSBjaGFuZ2VkXG4gICAgICAgICAqIGdlb21ldHJ5LCBhbmQgd2UgbmVlZCB0byByZS1ydW4gc2Nyb2xsIGFzc2lzdC5cbiAgICAgICAgICogVGhpcyBjYW4gaGFwcGVuIHdoZW4gdGhlIHVzZXIgcm90YXRlcyB0aGVpciBkZXZpY2VcbiAgICAgICAgICogb3Igd2hlbiB0aGV5IHN3aXRjaCBrZXlib2FyZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIE1ha2Ugc3VyZSB3ZSBwYXNzIGluIHRoZSBjb21wdXRlZCBrZXlib2FyZCBoZWlnaHRcbiAgICAgICAgICogcmF0aGVyIHRoYW4gdGhlIGVzdGltYXRlZCBrZXlib2FyZCBoZWlnaHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNpbmNlIHRoZSBrZXlib2FyZCBpcyBhbHJlYWR5IG9wZW4gdGhlbiB3ZSBkbyBub3RcbiAgICAgICAgICogbmVlZCB0byB3YWl0IGZvciB0aGUgd2VidmlldyB0byByZXNpemUsIHNvIHdlIHBhc3NcbiAgICAgICAgICogXCJ3YWl0Rm9yUmVzaXplOiBmYWxzZVwiLlxuICAgICAgICAgKi9cbiAgICAgICAganNTZXRGb2N1cyhjb21wb25lbnRFbCwgaW5wdXRFbCwgY29udGVudEVsLCBmb290ZXJFbCwgZXYuZGV0YWlsLmtleWJvYXJkSGVpZ2h0LCBhZGRTY3JvbGxQYWRkaW5nLCBkaXNhYmxlQ2xvbmVkSW5wdXQsIHBsYXRmb3JtSGVpZ2h0LCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgaW50ZXJuYWwgc3RhdGUgd2hlbiB0aGUgdGV4dCBmaWVsZCBsb3NlcyBmb2N1cy5cbiAgICAgKi9cbiAgICBjb25zdCBmb2N1c091dCA9ICgpID0+IHtcbiAgICAgICAgaGFzS2V5Ym9hcmRCZWVuUHJlc2VudGVkRm9yVGV4dEZpZWxkID0gZmFsc2U7XG4gICAgICAgIHdpbiA9PT0gbnVsbCB8fCB3aW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKCdpb25LZXlib2FyZERpZFNob3cnLCBrZXlib2FyZFNob3cpO1xuICAgICAgICBjb21wb25lbnRFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGZvY3VzT3V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGlucHV0IGlzIGFib3V0IHRvIHJlY2VpdmVcbiAgICAgKiBmb2N1cywgd2UgbmVlZCB0byBtb3ZlIGl0IHRvIHByZXZlbnRcbiAgICAgKiBtb2JpbGUgU2FmYXJpIGZyb20gYWRqdXN0aW5nIHRoZSB2aWV3cG9ydC5cbiAgICAgKi9cbiAgICBjb25zdCBmb2N1c0luID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIGFzc2lzdCBzaG91bGQgbm90IHJ1biBhZ2FpblxuICAgICAgICAgKiBvbiBpbnB1dHMgdGhhdCBoYXZlIGJlZW4gbWFudWFsbHlcbiAgICAgICAgICogZm9jdXNlZCBpbnNpZGUgb2YgdGhlIHNjcm9sbCBhc3Npc3RcbiAgICAgICAgICogaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaW5wdXRFbC5oYXNBdHRyaWJ1dGUoU0tJUF9TQ1JPTExfQVNTSVNUKSkge1xuICAgICAgICAgICAgaW5wdXRFbC5yZW1vdmVBdHRyaWJ1dGUoU0tJUF9TQ1JPTExfQVNTSVNUKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqc1NldEZvY3VzKGNvbXBvbmVudEVsLCBpbnB1dEVsLCBjb250ZW50RWwsIGZvb3RlckVsLCBrZXlib2FyZEhlaWdodCwgYWRkU2Nyb2xsUGFkZGluZywgZGlzYWJsZUNsb25lZElucHV0LCBwbGF0Zm9ybUhlaWdodCk7XG4gICAgICAgIHdpbiA9PT0gbnVsbCB8fCB3aW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbi5hZGRFdmVudExpc3RlbmVyKCdpb25LZXlib2FyZERpZFNob3cnLCBrZXlib2FyZFNob3cpO1xuICAgICAgICBjb21wb25lbnRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGZvY3VzT3V0KTtcbiAgICB9O1xuICAgIGNvbXBvbmVudEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBmb2N1c0luKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb21wb25lbnRFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgZm9jdXNJbik7XG4gICAgICAgIHdpbiA9PT0gbnVsbCB8fCB3aW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKCdpb25LZXlib2FyZERpZFNob3cnLCBrZXlib2FyZFNob3cpO1xuICAgICAgICBjb21wb25lbnRFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGZvY3VzT3V0KTtcbiAgICB9O1xufTtcbi8qKlxuICogVXNlIHRoaXMgZnVuY3Rpb24gd2hlbiB5b3Ugd2FudCB0byBtYW51YWxseVxuICogZm9jdXMgYW4gaW5wdXQgYnV0IG5vdCBoYXZlIHNjcm9sbCBhc3Npc3QgcnVuIGFnYWluLlxuICovXG5jb25zdCBzZXRNYW51YWxGb2N1cyA9IChlbCkgPT4ge1xuICAgIC8qKlxuICAgICAqIElmIGVsZW1lbnQgaXMgYWxyZWFkeSBmb2N1c2VkIHRoZW5cbiAgICAgKiBhIG5ldyBmb2N1c2luIGV2ZW50IHdpbGwgbm90IGJlIGRpc3BhdGNoZWRcbiAgICAgKiB0byByZW1vdmUgdGhlIFNLSUxfU0NST0xMX0FTU0lTVCBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWwuc2V0QXR0cmlidXRlKFNLSVBfU0NST0xMX0FTU0lTVCwgJ3RydWUnKTtcbiAgICBlbC5mb2N1cygpO1xufTtcbmNvbnN0IGpzU2V0Rm9jdXMgPSBhc3luYyAoY29tcG9uZW50RWwsIGlucHV0RWwsIGNvbnRlbnRFbCwgZm9vdGVyRWwsIGtleWJvYXJkSGVpZ2h0LCBlbmFibGVTY3JvbGxQYWRkaW5nLCBkaXNhYmxlQ2xvbmVkSW5wdXQgPSBmYWxzZSwgcGxhdGZvcm1IZWlnaHQgPSAwLCB3YWl0Rm9yUmVzaXplID0gdHJ1ZSkgPT4ge1xuICAgIGlmICghY29udGVudEVsICYmICFmb290ZXJFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjcm9sbERhdGEgPSBnZXRTY3JvbGxEYXRhKGNvbXBvbmVudEVsLCAoY29udGVudEVsIHx8IGZvb3RlckVsKSwga2V5Ym9hcmRIZWlnaHQsIHBsYXRmb3JtSGVpZ2h0KTtcbiAgICBpZiAoY29udGVudEVsICYmIE1hdGguYWJzKHNjcm9sbERhdGEuc2Nyb2xsQW1vdW50KSA8IDQpIHtcbiAgICAgICAgLy8gdGhlIHRleHQgaW5wdXQgaXMgaW4gYSBzYWZlIHBvc2l0aW9uIHRoYXQgZG9lc24ndFxuICAgICAgICAvLyByZXF1aXJlIGl0IHRvIGJlIHNjcm9sbGVkIGludG8gdmlldywganVzdCBzZXQgZm9jdXMgbm93XG4gICAgICAgIHNldE1hbnVhbEZvY3VzKGlucHV0RWwpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbiB0aG91Z2ggdGhlIGlucHV0IGRvZXMgbm90IG5lZWRcbiAgICAgICAgICogc2Nyb2xsIGFzc2lzdCwgd2Ugc2hvdWxkIHByZXNlcnZlIHRoZVxuICAgICAgICAgKiB0aGUgc2Nyb2xsIHBhZGRpbmcgYXMgdXNlcnMgY291bGQgYmUgbW92aW5nXG4gICAgICAgICAqIGZvY3VzIGZyb20gYW4gaW5wdXQgdGhhdCBuZWVkcyBzY3JvbGwgcGFkZGluZ1xuICAgICAgICAgKiB0byBhbiBpbnB1dCB0aGF0IGRvZXMgbm90IG5lZWQgc2Nyb2xsIHBhZGRpbmcuXG4gICAgICAgICAqIElmIHdlIHJlbW92ZSB0aGUgc2Nyb2xsIHBhZGRpbmcgbm93LCB1c2VycyB3aWxsXG4gICAgICAgICAqIHNlZSB0aGUgcGFnZSBqdW1wLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGVuYWJsZVNjcm9sbFBhZGRpbmcgJiYgY29udGVudEVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTY3JvbGxQYWRkaW5nKGNvbnRlbnRFbCwgY3VycmVudFBhZGRpbmcpO1xuICAgICAgICAgICAgc2V0Q2xlYXJTY3JvbGxQYWRkaW5nTGlzdGVuZXIoaW5wdXRFbCwgY29udGVudEVsLCAoKSA9PiAoY3VycmVudFBhZGRpbmcgPSAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB0ZW1wb3JhcmlseSBtb3ZlIHRoZSBmb2N1cyB0byB0aGUgZm9jdXMgaG9sZGVyIHNvIHRoZSBicm93c2VyXG4gICAgLy8gZG9lc24ndCBmcmVhayBvdXQgd2hpbGUgaXQncyB0cnlpbmcgdG8gZ2V0IHRoZSBpbnB1dCBpbiBwbGFjZVxuICAgIC8vIGF0IHRoaXMgcG9pbnQgdGhlIG5hdGl2ZSB0ZXh0IGlucHV0IHN0aWxsIGRvZXMgbm90IGhhdmUgZm9jdXNcbiAgICByZWxvY2F0ZUlucHV0KGNvbXBvbmVudEVsLCBpbnB1dEVsLCB0cnVlLCBzY3JvbGxEYXRhLmlucHV0U2FmZVksIGRpc2FibGVDbG9uZWRJbnB1dCk7XG4gICAgc2V0TWFudWFsRm9jdXMoaW5wdXRFbCk7XG4gICAgLyoqXG4gICAgICogUmVsb2NhdGluZy9Gb2N1c2luZyBpbnB1dCBjYXVzZXMgdGhlXG4gICAgICogY2xpY2sgZXZlbnQgdG8gYmUgY2FuY2VsbGVkLCBzb1xuICAgICAqIG1hbnVhbGx5IGZpcmUgb25lIGhlcmUuXG4gICAgICovXG4gICAgcmFmKCgpID0+IGNvbXBvbmVudEVsLmNsaWNrKCkpO1xuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQsIHdlIGNhbiBhZGQgc2Nyb2xsIHBhZGRpbmcgdG9cbiAgICAgKiB0aGUgYm90dG9tIG9mIHRoZSBjb250ZW50IHNvIHRoYXQgc2Nyb2xsIGFzc2lzdFxuICAgICAqIGhhcyBlbm91Z2ggcm9vbSB0byBzY3JvbGwgdGhlIGlucHV0IGFib3ZlXG4gICAgICogdGhlIGtleWJvYXJkLlxuICAgICAqL1xuICAgIGlmIChlbmFibGVTY3JvbGxQYWRkaW5nICYmIGNvbnRlbnRFbCkge1xuICAgICAgICBjdXJyZW50UGFkZGluZyA9IHNjcm9sbERhdGEuc2Nyb2xsUGFkZGluZztcbiAgICAgICAgc2V0U2Nyb2xsUGFkZGluZyhjb250ZW50RWwsIGN1cnJlbnRQYWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxldCBzY3JvbGxDb250ZW50VGltZW91dDtcbiAgICAgICAgY29uc3Qgc2Nyb2xsQ29udGVudCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIGNsZWFuIHVwIGxpc3RlbmVycyBhbmQgdGltZW91dHNcbiAgICAgICAgICAgIGlmIChzY3JvbGxDb250ZW50VGltZW91dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbENvbnRlbnRUaW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdpb25LZXlib2FyZERpZFNob3cnLCBkb3VibGVLZXlib2FyZEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lvbktleWJvYXJkRGlkU2hvdycsIHNjcm9sbENvbnRlbnQpO1xuICAgICAgICAgICAgLy8gc2Nyb2xsIHRoZSBpbnB1dCBpbnRvIHBsYWNlXG4gICAgICAgICAgICBpZiAoY29udGVudEVsKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2Nyb2xsQnlQb2ludChjb250ZW50RWwsIDAsIHNjcm9sbERhdGEuc2Nyb2xsQW1vdW50LCBzY3JvbGxEYXRhLnNjcm9sbER1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoZSBzY3JvbGwgdmlldyBpcyBpbiB0aGUgY29ycmVjdCBwb3NpdGlvbiBub3dcbiAgICAgICAgICAgIC8vIGdpdmUgdGhlIG5hdGl2ZSB0ZXh0IGlucHV0IGZvY3VzXG4gICAgICAgICAgICByZWxvY2F0ZUlucHV0KGNvbXBvbmVudEVsLCBpbnB1dEVsLCBmYWxzZSwgc2Nyb2xsRGF0YS5pbnB1dFNhZmVZKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSB0aGlzIGlzIHRoZSBmb2N1c2VkIGlucHV0XG4gICAgICAgICAgICBzZXRNYW51YWxGb2N1cyhpbnB1dEVsKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hlbiB0aGUgaW5wdXQgaXMgYWJvdXQgdG8gYmUgYmx1cnJlZFxuICAgICAgICAgICAgICogd2Ugc2hvdWxkIHNldCBhIHRpbWVvdXQgdG8gcmVtb3ZlXG4gICAgICAgICAgICAgKiBhbnkgc2Nyb2xsIHBhZGRpbmcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChlbmFibGVTY3JvbGxQYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgc2V0Q2xlYXJTY3JvbGxQYWRkaW5nTGlzdGVuZXIoaW5wdXRFbCwgY29udGVudEVsLCAoKSA9PiAoY3VycmVudFBhZGRpbmcgPSAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRvdWJsZUtleWJvYXJkRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdpb25LZXlib2FyZERpZFNob3cnLCBkb3VibGVLZXlib2FyZEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2lvbktleWJvYXJkRGlkU2hvdycsIHNjcm9sbENvbnRlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY29udGVudEVsKSB7XG4gICAgICAgICAgICBjb25zdCBzY3JvbGxFbCA9IGF3YWl0IGdldFNjcm9sbEVsZW1lbnQoY29udGVudEVsKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogc2Nyb2xsRGF0YSB3aWxsIG9ubHkgY29uc2lkZXIgdGhlIGFtb3VudCB3ZSBuZWVkXG4gICAgICAgICAgICAgKiB0byBzY3JvbGwgaW4gb3JkZXIgdG8gcHJvcGVybHkgYnJpbmcgdGhlIGlucHV0XG4gICAgICAgICAgICAgKiBpbnRvIHZpZXcuIEl0IHdpbGwgbm90IGNvbnNpZGVyIHRoZSBhbW91bnRcbiAgICAgICAgICAgICAqIHdlIGNhbiBzY3JvbGwgaW4gdGhlIGNvbnRlbnQgZWxlbWVudC5cbiAgICAgICAgICAgICAqIEFzIGEgcmVzdWx0LCBzY3JvbGxEYXRhIG1heSByZXF1ZXN0IGEgZ3JlYXRlclxuICAgICAgICAgICAgICogc2Nyb2xsIHBvc2l0aW9uIHRoYW4gaXMgY3VycmVudGx5IGF2YWlsYWJsZVxuICAgICAgICAgICAgICogaW4gdGhlIERPTS4gSWYgdGhpcyBpcyB0aGUgY2FzZSwgd2UgbmVlZCB0b1xuICAgICAgICAgICAgICogd2FpdCBmb3IgdGhlIHdlYnZpZXcgdG8gcmVzaXplL3RoZSBrZXlib2FyZFxuICAgICAgICAgICAgICogdG8gc2hvdyBpbiBvcmRlciBmb3IgYWRkaXRpb25hbCBzY3JvbGxcbiAgICAgICAgICAgICAqIGJhbmR3aWR0aCB0byBiZWNvbWUgYXZhaWxhYmxlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCB0b3RhbFNjcm9sbEFtb3VudCA9IHNjcm9sbEVsLnNjcm9sbEhlaWdodCAtIHNjcm9sbEVsLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGlmICh3YWl0Rm9yUmVzaXplICYmIHNjcm9sbERhdGEuc2Nyb2xsQW1vdW50ID4gdG90YWxTY3JvbGxBbW91bnQgLSBzY3JvbGxFbC5zY3JvbGxUb3ApIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBPbiBpT1MgZGV2aWNlcywgdGhlIHN5c3RlbSB3aWxsIHNob3cgYSBcIlBhc3N3b3Jkc1wiIGJhciBhYm92ZSB0aGUga2V5Ym9hcmRcbiAgICAgICAgICAgICAgICAgKiBhZnRlciB0aGUgaW5pdGlhbCBrZXlib2FyZCBpcyBzaG93bi4gVGhpcyBwcmV2ZW50cyB0aGUgd2VidmlldyBmcm9tIHJlc2l6aW5nXG4gICAgICAgICAgICAgICAgICogdW50aWwgdGhlIFwiUGFzc3dvcmRzXCIgYmFyIGlzIHNob3duLCBzbyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHRoYXQgdG8gaGFwcGVuIGZpcnN0LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dEVsLnR5cGUgPT09ICdwYXNzd29yZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIDUwcHggdG8gYWNjb3VudCBmb3IgdGhlIFwiUGFzc3dvcmRzXCIgYmFyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbERhdGEuc2Nyb2xsQW1vdW50ICs9IFNDUk9MTF9BTU9VTlRfUEFERElORztcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2lvbktleWJvYXJkRGlkU2hvdycsIGRvdWJsZUtleWJvYXJkRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaW9uS2V5Ym9hcmREaWRTaG93Jywgc2Nyb2xsQ29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoaXMgc2hvdWxkIG9ubHkgZmlyZSBpbiAyIGluc3RhbmNlczpcbiAgICAgICAgICAgICAgICAgKiAxLiBUaGUgYXBwIGlzIHZlcnkgc2xvdy5cbiAgICAgICAgICAgICAgICAgKiAyLiBUaGUgYXBwIGlzIHJ1bm5pbmcgaW4gYSBicm93c2VyIG9uIGFuIG9sZCBPU1xuICAgICAgICAgICAgICAgICAqIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBJb25pYyBLZXlib2FyZCBFdmVudHNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzY3JvbGxDb250ZW50VGltZW91dCA9IHNldFRpbWVvdXQoc2Nyb2xsQ29udGVudCwgMTAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjcm9sbENvbnRlbnQoKTtcbiAgICB9XG59O1xuXG5jb25zdCBJTlBVVF9CTFVSUklORyA9IHRydWU7XG5jb25zdCBzdGFydElucHV0U2hpbXMgPSBhc3luYyAoY29uZmlnLCBwbGF0Zm9ybSkgPT4ge1xuICAgIC8qKlxuICAgICAqIElmIGRvYyBpcyB1bmRlZmluZWQgdGhlbiB3ZSBhcmUgaW4gYW4gU1NSIGVudmlyb25tZW50XG4gICAgICogd2hlcmUgaW5wdXQgc2hpbXMgZG8gbm90IGFwcGx5LlxuICAgICAqL1xuICAgIGlmIChkb2MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzSU9TID0gcGxhdGZvcm0gPT09ICdpb3MnO1xuICAgIGNvbnN0IGlzQW5kcm9pZCA9IHBsYXRmb3JtID09PSAnYW5kcm9pZCc7XG4gICAgLyoqXG4gICAgICogSGlkZSBDYXJldCBhbmQgSW5wdXQgQmx1cnJpbmcgYXJlIG5lZWRlZCBvbiBpT1MuXG4gICAgICogU2Nyb2xsIEFzc2lzdCBhbmQgU2Nyb2xsIFBhZGRpbmcgYXJlIG5lZWRlZCBvbiBpT1MgYW5kIEFuZHJvaWRcbiAgICAgKiB3aXRoIENocm9tZSB3ZWIgYnJvd3NlciAobm90IENocm9tZSB3ZWJ2aWV3KS5cbiAgICAgKi9cbiAgICBjb25zdCBrZXlib2FyZEhlaWdodCA9IGNvbmZpZy5nZXROdW1iZXIoJ2tleWJvYXJkSGVpZ2h0JywgMjkwKTtcbiAgICBjb25zdCBzY3JvbGxBc3Npc3QgPSBjb25maWcuZ2V0Qm9vbGVhbignc2Nyb2xsQXNzaXN0JywgdHJ1ZSk7XG4gICAgY29uc3QgaGlkZUNhcmV0ID0gY29uZmlnLmdldEJvb2xlYW4oJ2hpZGVDYXJldE9uU2Nyb2xsJywgaXNJT1MpO1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZWFtIGlzIGV2YWx1YXRpbmcgaWYgaW5wdXRCbHVycmluZyBpcyBzdGlsbCBuZWVkZWQuIEFzIGEgcmVzdWx0XG4gICAgICogdGhpcyBmZWF0dXJlIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQgYXMgb2YgSW9uaWMgOC4wLiBEZXZlbG9wZXJzIGFyZVxuICAgICAqIGFibGUgdG8gcmUtZW5hYmxlIGl0IHRlbXBvcmFyaWx5LiBUaGUgdGVhbSBtYXkgcmVtb3ZlIHRoaXMgdXRpbGl0eVxuICAgICAqIGlmIGl0IGlzIGRldGVybWluZWQgdGhhdCBkb2luZyBzbyB3b3VsZCBub3QgYnJpbmcgYW55IGFkdmVyc2Ugc2lkZSBlZmZlY3RzLlxuICAgICAqIFRPRE8gRlctNjAxNCByZW1vdmUgaW5wdXQgYmx1cnJpbmcgdXRpbGl0eSAoaW5jbHVkaW5nIGltcGxlbWVudGF0aW9uKVxuICAgICAqL1xuICAgIGNvbnN0IGlucHV0Qmx1cnJpbmcgPSBjb25maWcuZ2V0Qm9vbGVhbignaW5wdXRCbHVycmluZycsIGZhbHNlKTtcbiAgICBjb25zdCBzY3JvbGxQYWRkaW5nID0gY29uZmlnLmdldEJvb2xlYW4oJ3Njcm9sbFBhZGRpbmcnLCB0cnVlKTtcbiAgICBjb25zdCBpbnB1dHMgPSBBcnJheS5mcm9tKGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdpb24taW5wdXQsIGlvbi10ZXh0YXJlYScpKTtcbiAgICBjb25zdCBoaWRlQ2FyZXRNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgIGNvbnN0IHNjcm9sbEFzc2lzdE1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgLyoqXG4gICAgICogR3JhYiB0aGUgbmF0aXZlIGtleWJvYXJkIHJlc2l6ZSBjb25maWd1cmF0aW9uXG4gICAgICogYW5kIHBhc3MgaXQgdG8gc2Nyb2xsIGFzc2lzdC4gU2Nyb2xsIGFzc2lzdCByZXF1aXJlc1xuICAgICAqIHRoYXQgd2UgYWRqdXN0IHRoZSBpbnB1dCByaWdodCBiZWZvcmUgdGhlIGlucHV0XG4gICAgICogaXMgYWJvdXQgdG8gYmUgZm9jdXNlZC4gSWYgd2UgY2FsbGVkIGBLZXlib2FyZC5nZXRSZXNpemVNb2RlYFxuICAgICAqIG9uIGZvY3VzaW4gaW4gc2Nyb2xsIGFzc2lzdCwgd2UgY291bGQgcG90ZW50aWFsbHkgYWRqdXN0IHRoZVxuICAgICAqIGlucHV0IHRvbyBsYXRlIHNpbmNlIHRoaXMgY2FsbCBpcyBhc3luYy5cbiAgICAgKi9cbiAgICBjb25zdCBrZXlib2FyZFJlc2l6ZU1vZGUgPSBhd2FpdCBLZXlib2FyZC5nZXRSZXNpemVNb2RlKCk7XG4gICAgY29uc3QgcmVnaXN0ZXJJbnB1dCA9IGFzeW5jIChjb21wb25lbnRFbCkgPT4ge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gY29tcG9uZW50T25SZWFkeShjb21wb25lbnRFbCwgcmVzb2x2ZSkpO1xuICAgICAgICBjb25zdCBpbnB1dFJvb3QgPSBjb21wb25lbnRFbC5zaGFkb3dSb290IHx8IGNvbXBvbmVudEVsO1xuICAgICAgICBjb25zdCBpbnB1dEVsID0gaW5wdXRSb290LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykgfHwgaW5wdXRSb290LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7XG4gICAgICAgIGNvbnN0IHNjcm9sbEVsID0gZmluZENsb3Nlc3RJb25Db250ZW50KGNvbXBvbmVudEVsKTtcbiAgICAgICAgY29uc3QgZm9vdGVyRWwgPSAhc2Nyb2xsRWwgPyBjb21wb25lbnRFbC5jbG9zZXN0KCdpb24tZm9vdGVyJykgOiBudWxsO1xuICAgICAgICBpZiAoIWlucHV0RWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISFzY3JvbGxFbCAmJiBoaWRlQ2FyZXQgJiYgIWhpZGVDYXJldE1hcC5oYXMoY29tcG9uZW50RWwpKSB7XG4gICAgICAgICAgICBjb25zdCBybUZuID0gZW5hYmxlSGlkZUNhcmV0T25TY3JvbGwoY29tcG9uZW50RWwsIGlucHV0RWwsIHNjcm9sbEVsKTtcbiAgICAgICAgICAgIGhpZGVDYXJldE1hcC5zZXQoY29tcG9uZW50RWwsIHJtRm4pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkYXRlL2RhdGV0aW1lLWxvY2FsZSBpbnB1dHMgb24gbW9iaWxlIGRldmljZXMgc2hvdyBkYXRlIHBpY2tlclxuICAgICAgICAgKiBvdmVybGF5cyBpbnN0ZWFkIG9mIGtleWJvYXJkcy4gQXMgYSByZXN1bHQsIHNjcm9sbCBhc3Npc3QgaXNcbiAgICAgICAgICogbm90IG5lZWRlZC4gVGhpcyBhbHNvIHdvcmtzIGFyb3VuZCBhIGJ1ZyBpbiBpT1MgPDE2IHdoZXJlXG4gICAgICAgICAqIHNjcm9sbCBhc3Npc3QgY2F1c2VzIHRoZSBicm93c2VyIHRvIGxvY2sgdXAuIFNlZSBGVy0xOTk3LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaXNEYXRlSW5wdXQgPSBpbnB1dEVsLnR5cGUgPT09ICdkYXRlJyB8fCBpbnB1dEVsLnR5cGUgPT09ICdkYXRldGltZS1sb2NhbCc7XG4gICAgICAgIGlmICghaXNEYXRlSW5wdXQgJiZcbiAgICAgICAgICAgICghIXNjcm9sbEVsIHx8ICEhZm9vdGVyRWwpICYmXG4gICAgICAgICAgICBzY3JvbGxBc3Npc3QgJiZcbiAgICAgICAgICAgICFzY3JvbGxBc3Npc3RNYXAuaGFzKGNvbXBvbmVudEVsKSkge1xuICAgICAgICAgICAgY29uc3Qgcm1GbiA9IGVuYWJsZVNjcm9sbEFzc2lzdChjb21wb25lbnRFbCwgaW5wdXRFbCwgc2Nyb2xsRWwsIGZvb3RlckVsLCBrZXlib2FyZEhlaWdodCwgc2Nyb2xsUGFkZGluZywga2V5Ym9hcmRSZXNpemVNb2RlLCBpc0FuZHJvaWQpO1xuICAgICAgICAgICAgc2Nyb2xsQXNzaXN0TWFwLnNldChjb21wb25lbnRFbCwgcm1Gbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHVucmVnaXN0ZXJJbnB1dCA9IChjb21wb25lbnRFbCkgPT4ge1xuICAgICAgICBpZiAoaGlkZUNhcmV0KSB7XG4gICAgICAgICAgICBjb25zdCBmbiA9IGhpZGVDYXJldE1hcC5nZXQoY29tcG9uZW50RWwpO1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhpZGVDYXJldE1hcC5kZWxldGUoY29tcG9uZW50RWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY3JvbGxBc3Npc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gc2Nyb2xsQXNzaXN0TWFwLmdldChjb21wb25lbnRFbCk7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2Nyb2xsQXNzaXN0TWFwLmRlbGV0ZShjb21wb25lbnRFbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChpbnB1dEJsdXJyaW5nICYmIElOUFVUX0JMVVJSSU5HKSB7XG4gICAgICAgIGVuYWJsZUlucHV0Qmx1cnJpbmcoKTtcbiAgICB9XG4gICAgLy8gSW5wdXQgbWlnaHQgYmUgYWxyZWFkeSBsb2FkZWQgaW4gdGhlIERPTSBiZWZvcmUgaW9uLWRldmljZS1oYWNrcyBkaWQuXG4gICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBuZWVkIHRvIGxvb2sgZm9yIGFsbCBvZiB0aGUgaW5wdXRzIG5vdCByZWdpc3RlcmVkIHlldFxuICAgIC8vIGFuZCByZWdpc3RlciB0aGVtLlxuICAgIGZvciAoY29uc3QgaW5wdXQgb2YgaW5wdXRzKSB7XG4gICAgICAgIHJlZ2lzdGVySW5wdXQoaW5wdXQpO1xuICAgIH1cbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignaW9uSW5wdXREaWRMb2FkJywgKGV2KSA9PiB7XG4gICAgICAgIHJlZ2lzdGVySW5wdXQoZXYuZGV0YWlsKTtcbiAgICB9KTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignaW9uSW5wdXREaWRVbmxvYWQnLCAoZXYpID0+IHtcbiAgICAgICAgdW5yZWdpc3RlcklucHV0KGV2LmRldGFpbCk7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBzdGFydElucHV0U2hpbXMgfTtcbiJdLCJuYW1lcyI6WyJwYXJlbnRFbCIsImlucHV0RWwiLCJwYXJlbnROb2RlIiwiY2xvbmVkRWwiLCJjbG9uZU5vZGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0YWJJbmRleCIsImRpc2FibGVkQ2xvbmVkSW5wdXQiLCJkaXNhYmxlZCIsImFwcGVuZENoaWxkIiwiY2xvbmVNYXAiLCJzZXQiLCJjb21wb25lbnRFbCIsInR4Iiwib3duZXJEb2N1bWVudCIsImRpciIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsInRyYW5zZm9ybSIsImlucHV0UmVsYXRpdmVZIiwicmVtb3ZlQ2xvbmUiLCJjbG9uZSIsImdldCIsImRlbGV0ZSIsInJlbW92ZSIsIlNLSVBfU0VMRUNUT1IiLCJjYWxjU2Nyb2xsRGF0YSIsImlucHV0UmVjdCIsImNvbnRlbnRSZWN0Iiwia2V5Ym9hcmRIZWlnaHQiLCJwbGF0Zm9ybUhlaWdodCIsImlucHV0VG9wIiwidG9wIiwiaW5wdXRCb3R0b20iLCJib3R0b20iLCJ2aXNpYmxlQXJlYVRvcCIsInNhZmVBcmVhVG9wIiwiZGlzdGFuY2VUb0JvdHRvbSIsIk1hdGgiLCJtaW4iLCJkaXN0YW5jZVRvVG9wIiwiZGVzaXJlZFNjcm9sbEFtb3VudCIsInJvdW5kIiwic2Nyb2xsQW1vdW50IiwiZHVyYXRpb24iLCJhYnMiLCJzY3JvbGxEdXJhdGlvbiIsIm1heCIsInNjcm9sbFBhZGRpbmciLCJpbnB1dFNhZmVZIiwiUEFERElOR19USU1FUl9LRVkiLCJzZXRTY3JvbGxQYWRkaW5nIiwiY29udGVudEVsIiwicGFkZGluZ0Ftb3VudCIsImNsZWFyQ2FsbGJhY2siLCJ0aW1lciIsImNsZWFyVGltZW91dCIsInNldFByb3BlcnR5Iiwic2V0VGltZW91dCIsInNldENsZWFyU2Nyb2xsUGFkZGluZ0xpc3RlbmVyIiwiZG9uZUNhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJjdXJyZW50UGFkZGluZyIsIlNLSVBfU0NST0xMX0FTU0lTVCIsInNldE1hbnVhbEZvY3VzIiwiZWwiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJmb2N1cyIsImpzU2V0Rm9jdXMiLCJhc3luYyIsImZvb3RlckVsIiwiZW5hYmxlU2Nyb2xsUGFkZGluZyIsImRpc2FibGVDbG9uZWRJbnB1dCIsIndhaXRGb3JSZXNpemUiLCJzY3JvbGxEYXRhIiwiX2EiLCJpdGVtRWwiLCJjbG9zZXN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0U2Nyb2xsRGF0YSIsInJhZiIsImNsaWNrIiwid2luZG93Iiwic2Nyb2xsQ29udGVudFRpbWVvdXQiLCJzY3JvbGxDb250ZW50IiwidW5kZWZpbmVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRvdWJsZUtleWJvYXJkRXZlbnRMaXN0ZW5lciIsInNjcm9sbEJ5UG9pbnQiLCJyZWxvY2F0ZUlucHV0Iiwic2Nyb2xsRWwiLCJnZXRTY3JvbGxFbGVtZW50Iiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwidG90YWxTY3JvbGxBbW91bnQiLCJzY3JvbGxUb3AiLCJ0eXBlIiwiZXhwb3J0cyIsImNvbmZpZyIsInBsYXRmb3JtIiwiZG9jIiwiaXNJT1MiLCJpc0FuZHJvaWQiLCJnZXROdW1iZXIiLCJzY3JvbGxBc3Npc3QiLCJnZXRCb29sZWFuIiwiaGlkZUNhcmV0IiwiaW5wdXRCbHVycmluZyIsImlucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoaWRlQ2FyZXRNYXAiLCJXZWFrTWFwIiwic2Nyb2xsQXNzaXN0TWFwIiwia2V5Ym9hcmRSZXNpemVNb2RlIiwiS2V5Ym9hcmQiLCJnZXRSZXNpemVNb2RlIiwicmVnaXN0ZXJJbnB1dCIsIlByb21pc2UiLCJyZXNvbHZlIiwiY29tcG9uZW50T25SZWFkeSIsImlucHV0Um9vdCIsInNoYWRvd1Jvb3QiLCJxdWVyeVNlbGVjdG9yIiwiZmluZENsb3Nlc3RJb25Db250ZW50IiwiaGFzIiwicm1GbiIsInNjcm9sbEhpZGVDYXJldCIsInNob3VsZEhpZGVDYXJldCIsIm9uQmx1ciIsInNob3dDYXJldCIsImVuYWJsZUhpZGVDYXJldE9uU2Nyb2xsIiwia2V5Ym9hcmRSZXNpemUiLCJhZGRTY3JvbGxQYWRkaW5nIiwibW9kZSIsIktleWJvYXJkUmVzaXplIiwiTm9uZSIsIndpbiIsImlubmVySGVpZ2h0Iiwia2V5Ym9hcmRTaG93IiwiZXYiLCJoYXNLZXlib2FyZEJlZW5QcmVzZW50ZWRGb3JUZXh0RmllbGQiLCJkZXRhaWwiLCJmb2N1c091dCIsInJlbW92ZUF0dHJpYnV0ZSIsImZvY3VzSW4iLCJlbmFibGVTY3JvbGxBc3Npc3QiLCJmb2N1c2VkIiwiZGlkU2Nyb2xsIiwib25TY3JvbGwiLCJvbkZvY3VzaW4iLCJvblRvdWNoZW5kIiwiYWN0aXZlIiwibWF0Y2hlcyIsInRhcHBlZCIsInRhcmdldCIsImJsdXIiLCJlbmFibGVJbnB1dEJsdXJyaW5nIiwiaW5wdXQiLCJmbiIsInVucmVnaXN0ZXJJbnB1dCJdLCJtYXBwaW5ncyI6Ijs7OzsrRkFBQSxNQUFBQSxFQUFBQyxFQUFBQyxXQUNBQyxFQUFBRixFQUFBRyxXQUFBLEdBQUFELEVBQUFFLFVBQUFDLElBQUEsZ0JBQUFILEVBQUFJLFVBQUEsRUFlU0MsSUFBQUwsRUFBQU0sVUFBQSxHQUFBVCxFQUFBVSxZQUFBUCxHQUFBUSxFQUFBQyxJQUFBQyxFQUFBVixHQUFBLE1BQUFXLEVBQUEsUUFBQUQsRUFBQUUsY0FBQUMsSUFBQSxNQUFBLEtBQUFILEVBQUFJLE1BQUFDLGNBQUEsT0FBQWpCLEVBQUFnQixNQUFBRSxVQUFBLGVBQUFMLE9BQUFNLGlCQUFBLEVBQUFDLEVBQUEsQ0FBQVIsRUFBQVosS0FBQSxNQUFBcUIsRUFBQVgsRUFBQVksSUFBQVYsR0FBQVMsSUFBQVgsRUFBQWEs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LG9CQUFBLFdBQUEwRCxFQUFBLElBSUgzRSxVQUtGeEUsZUFBU2dFLEdBQWdCaEUsRUFBQW9KLGdCQUFBcEYsSUFBQU8sRUFBQTNELEVBQUFaLEVBQUFvRCxFQUFBcUIsRUFBQTVDLEVBQUE0RyxFQUFBOUQsRUFBQTdDLEdBQUErRyxTQUFBQSxFQUFBaEYsaUJBQUEscUJBQUFrRixHQUFBbkksRUFBQWlELGlCQUFBLFdBQUFzRixHQUFBLEVBQUEsT0FBQXZJLEVBQUFpRCxpQkFBQSxVQUFBd0YsR0FBQSxLQUFBekksRUFBQTZFLG9CQUFBLFVBQUE0RCxHQUFBUixTQUFBQSxFQUFBcEQsb0JBQUEscUJBQUFzRCxHQUFBbkksRUFBQTZFLG9CQUFBLFdBQUEwRCxFQUFBLENBQUEsRUFvRklHLENBQUExSSxFQUFBWixFQUFBNkYsRUFBQXBCLEVBQUE1QyxFQUFBbUIsRUFBQXNFLEVBQUFiLEdBQUFZLEVBQUExRyxJQUFBQyxFQUFBc0gsRUFBQSxDQUwvQyxDQUsrQyxFQUFBcEIsR0FuTWxCLE1BQUEsSUFBQXlDLEdBQUEsRUFBQUMsR0FBQSxFQUFBLE1BQUFqRCxFQUFBcEMsU0FBQXNGLEVBQUEsS0FBQUQsR0FBQSxDQUFBLEVBQUFFLEVBQUEsS0FBQUgsR0FBQSxDQUFBLEVBQUFJLEVBQUFYLElBQzdCLEdBQUFRLEVBQUEsWUFBQUEsR0FBQSxHQUFBLE1BQUFJLEVBQUFyRCxFQUFBbkMsY0FBQSxJQUFBd0YsRUFBQSxPQUNBLEdBQUFBLEVBQUFDLFFBQUFwSSxHQUFBLE9BQ0EsTUFBQXFJLEVBQUFkLEVBQUFlLE9BQUFELElBQUFGLElBQUFFLEVBQUFELFFBQUFwSSxJQUFBcUksRUFBQTlFLFFBQUF2RCxLQUFBOEgsR0FBQSxFQUNBN0YsWUFBQSxLQUFBNkYsR0FBQUssRUFBQUksTUFBQSxHQUFBLEtBQUEsRUFBQW5HLEVBQUEwQyxFQUFBLGlCQUFBa0QsR0FBQWxELEVBQUExQyxpQkFBQSxVQUFBNkYsR0FBQSxHQUFBbkQsRUFBQTFDLGlCQUFBLFdBQUE4RixHQUFBLEVBQUEsRUErTCtDTSxrQkFHMUNsRCxFQUFBVSxFQUFBeUMsR0FBQTNELEVBQUExQyxpQkFBQSxtQkFBQW1GLElBQUF2QixFQUFBdUIsRUFBQUUsT0FBQSxJQUFBM0MsRUFBQTFDLGlCQUFBLHFCQUFBbUYsSUFIMENwSSxLQUFBLEdBQUFpRyxFQUFBLENBQUEsTUFBQXNELEVBQUFoRCxFQUFBN0YsSUFBQVYsR0FBQXVKLEdBQUFBLElBQUFoRCxFQUFBNUYsT0FBQVgsRUFBQSxDQUFBLEdBQUErRixFQUFBLENBQUEsTUFBQXdELEVBQUE5QyxFQUFBL0YsSUFBQVYsR0FBQXVKLEdBQUFBLElBQUE5QyxFQUFBOUYsT0FBQVgsRUFBQSxHQUcxQ3dKLENBQUFwQixFQUFBRSxPQUFBLEdBQUEsR0FBQSxFQUFBIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==
