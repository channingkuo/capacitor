System.register(["./index-legacy-CGN9q4W7.js"],(function(e,t){"use strict";var o;return{setters:[e=>{o=e.r}],execute:function(){
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let t;const n=(e,o,n)=>{const r=o.startsWith("animation")?(e=>{if(void 0===t){const o=void 0!==e.style.animationName,n=void 0!==e.style.webkitAnimationName;t=!o&&n?"-webkit-":""}return t})(e):"";e.style.setProperty(r+o,n)},r=(e=[],t)=>{if(void 0!==t){const o=Array.isArray(t)?t:[t];return[...e,...o]}return e};e("c",(e=>{let t,a,i,s,f,l,c,d,h,u,p,g=[],m=[],v=[],E=!1,y={},A=[],b=[],C={},T=0,S=!1,k=!1,w=!0,D=!1,F=!0,R=!1;const x=e,I=[],K=[],N=[],P=[],W=[],L=[],M=[],O=[],j=[],q=[],z=[],B="function"==typeof AnimationEffect||void 0!==o&&"function"==typeof o.AnimationEffect,G="function"==typeof Element&&"function"==typeof Element.prototype.animate&&B,H=()=>z,J=e=>{X(),e&&Y()},Q=(e,t)=>{const o=t.findIndex((t=>t.c===e));o>-1&&t.splice(o,1)},U=(e,t)=>(((null==t?void 0:t.oneTimeCallback)?K:I).push({c:e,o:t}),p),V=()=>(I.length=0,K.length=0,p),X=()=>{G&&(z.forEach((e=>{e.cancel()})),z.length=0)},Y=()=>{L.forEach((e=>{(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),L.length=0},Z=()=>void 0!==f?f:c?c.getFill():"both",$=()=>void 0!==d?d:void 0!==l?l:c?c.getDirection():"normal",_=()=>S?"linear":void 0!==i?i:c?c.getEasing():"linear",ee=()=>k?0:void 0!==h?h:void 0!==a?a:c?c.getDuration():0,te=()=>void 0!==s?s:c?c.getIterations():1,oe=()=>void 0!==u?u:void 0!==t?t:c?c.getDelay():0,ne=e=>{G&&H().forEach((t=>{const o=t.effect;if(o.setKeyframes)o.setKeyframes(e);else{const n=new KeyframeEffect(o.target,e,o.getTiming());t.effect=n}}))},re=()=>{0!==T&&(T--,0===T&&((()=>{j.forEach((e=>e())),q.forEach((e=>e()));const e=w?1:0,t=A,o=b,r=C;P.forEach((e=>{const a=e.classList;t.forEach((e=>a.add(e))),o.forEach((e=>a.remove(e)));for(const t in r)r.hasOwnProperty(t)&&n(e,t,r[t])})),h=void 0,d=void 0,u=void 0,I.forEach((t=>t.c(e,p))),K.forEach((t=>t.c(e,p))),K.length=0,F=!0,w&&(D=!0),w=!0})(),c&&c.animationFinish()))},ae=()=>{(()=>{M.forEach((e=>e())),O.forEach((e=>e()));const e=m,t=v,o=y;P.forEach((r=>{const a=r.classList;e.forEach((e=>a.add(e))),t.forEach((e=>a.remove(e)));for(const e in o)o.hasOwnProperty(e)&&n(r,e,o[e])}))})(),g.length>0&&G&&(P.forEach((e=>{const t=e.animate(g,{id:x,delay:oe(),duration:ee(),easing:_(),iterations:te(),fill:Z(),direction:$()});t.pause(),z.push(t)})),z.length>0&&(z[0].onfinish=()=>{re()})),E=!0},ie=e=>{e=Math.min(Math.max(e,0),.9999),G&&z.forEach((t=>{t.currentTime=t.effect.getComputedTiming().delay+ee()*e,t.pause()}))},se=e=>{z.forEach((e=>{e.effect.updateTiming({delay:oe(),duration:ee(),easing:_(),iterations:te(),fill:Z(),direction:$()})})),void 0!==e&&ie(e)},fe=(e=!1,t=!0,o)=>(e&&W.forEach((n=>{n.update(e,t,o)})),G&&se(o),p),le=()=>{E&&(G?z.forEach((e=>{e.pause()})):P.forEach((e=>{n(e,"animation-play-state","paused")})),R=!0)},ce=e=>new Promise((t=>{(null==e?void 0:e.sync)&&(k=!0,U((()=>k=!1),{oneTimeCallback:!0})),E||ae(),D&&(G&&(ie(0),se()),D=!1),F&&(T=W.length+1,F=!1);const o=()=>{Q(n,K),t()},n=()=>{Q(o,N),t()};U(n,{oneTimeCallback:!0}),((e,t)=>{N.push({c:e,o:t})})(o,{oneTimeCallback:!0}),W.forEach((e=>{e.play()})),G?(z.forEach((e=>{e.play()})),0!==g.length&&0!==P.length||re()):re(),R=!1})),de=(e,t)=>{const o=g[0];return void 0===o||void 0!==o.offset&&0!==o.offset?g=[{offset:0,[e]:t},...g]:o[e]=t,p};return p={parentAnimation:c,elements:P,childAnimations:W,id:x,animationFinish:re,from:de,to:(e,t)=>{const o=g[g.length-1];return void 0===o||void 0!==o.offset&&1!==o.offset?g=[...g,{offset:1,[e]:t}]:o[e]=t,p},fromTo:(e,t,o)=>de(e,t).to(e,o),parent:e=>(c=e,p),play:ce,pause:()=>(W.forEach((e=>{e.pause()})),le(),p),stop:()=>{W.forEach((e=>{e.stop()})),E&&(X(),E=!1),S=!1,k=!1,F=!0,d=void 0,h=void 0,u=void 0,T=0,D=!1,w=!0,R=!1,N.forEach((e=>e.c(0,p))),N.length=0},destroy:e=>(W.forEach((t=>{t.destroy(e)})),J(e),P.length=0,W.length=0,g.length=0,V(),E=!1,F=!0,p),keyframes:e=>{const t=g!==e;return g=e,t&&ne(g),p},addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(p),W.push(t);else e.parent(p),W.push(e);return p},addElement:e=>{if(null!=e)if(1===e.nodeType)P.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)P.push(e[t]);else console.error("Invalid addElement value");return p},update:fe,fill:e=>(f=e,fe(!0),p),direction:e=>(l=e,fe(!0),p),iterations:e=>(s=e,fe(!0),p),duration:e=>(G||0!==e||(e=1),a=e,fe(!0),p),easing:e=>(i=e,fe(!0),p),delay:e=>(t=e,fe(!0),p),getWebAnimations:H,getKeyframes:()=>g,getFill:Z,getDirection:$,getDelay:oe,getIterations:te,getEasing:_,getDuration:ee,afterAddRead:e=>(j.push(e),p),afterAddWrite:e=>(q.push(e),p),afterClearStyles:(e=[])=>{for(const t of e)C[t]="";return p},afterStyles:(e={})=>(C=e,p),afterRemoveClass:e=>(b=r(b,e),p),afterAddClass:e=>(A=r(A,e),p),beforeAddRead:e=>(M.push(e),p),beforeAddWrite:e=>(O.push(e),p),beforeClearStyles:(e=[])=>{for(const t of e)y[t]="";return p},beforeStyles:(e={})=>(y=e,p),beforeRemoveClass:e=>(v=r(v,e),p),beforeAddClass:e=>(m=r(m,e),p),onFinish:U,isRunning:()=>0!==T&&!R,progressStart:(e=!1,t)=>(W.forEach((o=>{o.progressStart(e,t)})),le(),S=e,E||ae(),fe(!1,!0,t),p),progressStep:e=>(W.forEach((t=>{t.progressStep(e)})),ie(e),p),progressEnd:(e,t,o)=>(S=!1,W.forEach((n=>{n.progressEnd(e,t,o)})),void 0!==o&&(h=o),D=!1,w=!0,0===e?(d="reverse"===$()?"normal":"reverse","reverse"===d&&(w=!1),G?(fe(),ie(1-t)):(u=(1-t)*ee()*-1,fe(!1,!1))):1===e&&(G?(fe(),ie(t)):(u=t*ee()*-1,fe(!1,!1))),void 0===e||c||ce(),p)}}))}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5pbWF0aW9uLWxlZ2FjeS1COF9Wc0hCbS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2NvbXBvbmVudHMvYW5pbWF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyB3IGFzIHdpbiB9IGZyb20gJy4vaW5kZXg1LmpzJztcblxubGV0IGFuaW1hdGlvblByZWZpeDtcbmNvbnN0IGdldEFuaW1hdGlvblByZWZpeCA9IChlbCkgPT4ge1xuICAgIGlmIChhbmltYXRpb25QcmVmaXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBzdXBwb3J0c1VucHJlZml4ZWQgPSBlbC5zdHlsZS5hbmltYXRpb25OYW1lICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN1cHBvcnRzV2Via2l0UHJlZml4ID0gZWwuc3R5bGUud2Via2l0QW5pbWF0aW9uTmFtZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBhbmltYXRpb25QcmVmaXggPSAhc3VwcG9ydHNVbnByZWZpeGVkICYmIHN1cHBvcnRzV2Via2l0UHJlZml4ID8gJy13ZWJraXQtJyA6ICcnO1xuICAgIH1cbiAgICByZXR1cm4gYW5pbWF0aW9uUHJlZml4O1xufTtcbmNvbnN0IHNldFN0eWxlUHJvcGVydHkgPSAoZWxlbWVudCwgcHJvcGVydHlOYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHByZWZpeCA9IHByb3BlcnR5TmFtZS5zdGFydHNXaXRoKCdhbmltYXRpb24nKSA/IGdldEFuaW1hdGlvblByZWZpeChlbGVtZW50KSA6ICcnO1xuICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkocHJlZml4ICsgcHJvcGVydHlOYW1lLCB2YWx1ZSk7XG59O1xuY29uc3QgYWRkQ2xhc3NUb0FycmF5ID0gKGNsYXNzZXMgPSBbXSwgY2xhc3NOYW1lKSA9PiB7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZVRvQXBwZW5kID0gQXJyYXkuaXNBcnJheShjbGFzc05hbWUpID8gY2xhc3NOYW1lIDogW2NsYXNzTmFtZV07XG4gICAgICAgIHJldHVybiBbLi4uY2xhc3NlcywgLi4uY2xhc3NOYW1lVG9BcHBlbmRdO1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3Nlcztcbn07XG5cbmNvbnN0IGNyZWF0ZUFuaW1hdGlvbiA9IChhbmltYXRpb25JZCkgPT4ge1xuICAgIGxldCBfZGVsYXk7XG4gICAgbGV0IF9kdXJhdGlvbjtcbiAgICBsZXQgX2Vhc2luZztcbiAgICBsZXQgX2l0ZXJhdGlvbnM7XG4gICAgbGV0IF9maWxsO1xuICAgIGxldCBfZGlyZWN0aW9uO1xuICAgIGxldCBfa2V5ZnJhbWVzID0gW107XG4gICAgbGV0IGJlZm9yZUFkZENsYXNzZXMgPSBbXTtcbiAgICBsZXQgYmVmb3JlUmVtb3ZlQ2xhc3NlcyA9IFtdO1xuICAgIGxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGxldCBwYXJlbnRBbmltYXRpb247XG4gICAgbGV0IGJlZm9yZVN0eWxlc1ZhbHVlID0ge307XG4gICAgbGV0IGFmdGVyQWRkQ2xhc3NlcyA9IFtdO1xuICAgIGxldCBhZnRlclJlbW92ZUNsYXNzZXMgPSBbXTtcbiAgICBsZXQgYWZ0ZXJTdHlsZXNWYWx1ZSA9IHt9O1xuICAgIGxldCBudW1BbmltYXRpb25zUnVubmluZyA9IDA7XG4gICAgbGV0IHNob3VsZEZvcmNlTGluZWFyRWFzaW5nID0gZmFsc2U7XG4gICAgbGV0IHNob3VsZEZvcmNlU3luY1BsYXliYWNrID0gZmFsc2U7XG4gICAgbGV0IGZvcmNlRGlyZWN0aW9uVmFsdWU7XG4gICAgbGV0IGZvcmNlRHVyYXRpb25WYWx1ZTtcbiAgICBsZXQgZm9yY2VEZWxheVZhbHVlO1xuICAgIGxldCB3aWxsQ29tcGxldGUgPSB0cnVlO1xuICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuICAgIGxldCBzaG91bGRDYWxjdWxhdGVOdW1BbmltYXRpb25zID0gdHJ1ZTtcbiAgICBsZXQgYW5pO1xuICAgIGxldCBwYXVzZWQgPSBmYWxzZTtcbiAgICBjb25zdCBpZCA9IGFuaW1hdGlvbklkO1xuICAgIGNvbnN0IG9uRmluaXNoQ2FsbGJhY2tzID0gW107XG4gICAgY29uc3Qgb25GaW5pc2hPbmVUaW1lQ2FsbGJhY2tzID0gW107XG4gICAgY29uc3Qgb25TdG9wT25lVGltZUNhbGxiYWNrcyA9IFtdO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgY29uc3QgY2hpbGRBbmltYXRpb25zID0gW107XG4gICAgY29uc3Qgc3R5bGVzaGVldHMgPSBbXTtcbiAgICBjb25zdCBfYmVmb3JlQWRkUmVhZEZ1bmN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IF9iZWZvcmVBZGRXcml0ZUZ1bmN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IF9hZnRlckFkZFJlYWRGdW5jdGlvbnMgPSBbXTtcbiAgICBjb25zdCBfYWZ0ZXJBZGRXcml0ZUZ1bmN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IHdlYkFuaW1hdGlvbnMgPSBbXTtcbiAgICBjb25zdCBzdXBwb3J0c0FuaW1hdGlvbkVmZmVjdCA9IHR5cGVvZiBBbmltYXRpb25FZmZlY3QgPT09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgKHdpbiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB3aW4uQW5pbWF0aW9uRWZmZWN0ID09PSAnZnVuY3Rpb24nKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGEgZmVhdHVyZSBkZXRlY3Rpb24gZm9yIFdlYiBBbmltYXRpb25zLlxuICAgICAqXG4gICAgICogQ2VydGFpbiBlbnZpcm9ubWVudHMgc3VjaCBhcyBlbXVsYXRlZCBicm93c2VyIGVudmlyb25tZW50cyBmb3IgdGVzdGluZyxcbiAgICAgKiBkbyBub3Qgc3VwcG9ydCBXZWIgQW5pbWF0aW9ucy4gQXMgYSByZXN1bHQsIHdlIG5lZWQgdG8gY2hlY2sgZm9yIHN1cHBvcnRcbiAgICAgKiBhbmQgcHJvdmlkZSBhIGZhbGxiYWNrIHRvIHRlc3QgY2VydGFpbiBmdW5jdGlvbmFsaXR5IHJlbGF0ZWQgdG8gV2ViIEFuaW1hdGlvbnMuXG4gICAgICovXG4gICAgY29uc3Qgc3VwcG9ydHNXZWJBbmltYXRpb25zID0gdHlwZW9mIEVsZW1lbnQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgdHlwZW9mIEVsZW1lbnQucHJvdG90eXBlLmFuaW1hdGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgc3VwcG9ydHNBbmltYXRpb25FZmZlY3Q7XG4gICAgY29uc3QgZ2V0V2ViQW5pbWF0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHdlYkFuaW1hdGlvbnM7XG4gICAgfTtcbiAgICBjb25zdCBkZXN0cm95ID0gKGNsZWFyU3R5bGVTaGVldHMpID0+IHtcbiAgICAgICAgY2hpbGRBbmltYXRpb25zLmZvckVhY2goKGNoaWxkQW5pbWF0aW9uKSA9PiB7XG4gICAgICAgICAgICBjaGlsZEFuaW1hdGlvbi5kZXN0cm95KGNsZWFyU3R5bGVTaGVldHMpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2xlYW5VcChjbGVhclN0eWxlU2hlZXRzKTtcbiAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgY2hpbGRBbmltYXRpb25zLmxlbmd0aCA9IDA7XG4gICAgICAgIF9rZXlmcmFtZXMubGVuZ3RoID0gMDtcbiAgICAgICAgY2xlYXJPbkZpbmlzaCgpO1xuICAgICAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICBzaG91bGRDYWxjdWxhdGVOdW1BbmltYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYW55IFdlYiBBbmltYXRpb25zLCByZW1vdmVzXG4gICAgICogYW55IGFuaW1hdGlvbiBwcm9wZXJ0aWVzIGZyb20gdGhlXG4gICAgICogYW5pbWF0aW9uJ3MgZWxlbWVudHMsIGFuZCByZW1vdmVzIHRoZVxuICAgICAqIGFuaW1hdGlvbidzIHN0eWxlc2hlZXRzIGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICBjb25zdCBjbGVhblVwID0gKGNsZWFyU3R5bGVTaGVldHMpID0+IHtcbiAgICAgICAgY2xlYW5VcEVsZW1lbnRzKCk7XG4gICAgICAgIGlmIChjbGVhclN0eWxlU2hlZXRzKSB7XG4gICAgICAgICAgICBjbGVhblVwU3R5bGVTaGVldHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVzZXRGbGFncyA9ICgpID0+IHtcbiAgICAgICAgc2hvdWxkRm9yY2VMaW5lYXJFYXNpbmcgPSBmYWxzZTtcbiAgICAgICAgc2hvdWxkRm9yY2VTeW5jUGxheWJhY2sgPSBmYWxzZTtcbiAgICAgICAgc2hvdWxkQ2FsY3VsYXRlTnVtQW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIGZvcmNlRGlyZWN0aW9uVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvcmNlRHVyYXRpb25WYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yY2VEZWxheVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBudW1BbmltYXRpb25zUnVubmluZyA9IDA7XG4gICAgICAgIGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHdpbGxDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgaXNSdW5uaW5nID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gbnVtQW5pbWF0aW9uc1J1bm5pbmcgIT09IDAgJiYgIXBhdXNlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gYSBjaG9zZW4gY2FsbGJhY2sgYXJyYXlcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tUb1JlbW92ZTogQSByZWZlcmVuY2UgdG8gdGhlIGNhbGxiYWNrIHRoYXQgc2hvdWxkIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tPYmplY3RzOiBBbiBhcnJheSBvZiBjYWxsYmFja3MgdGhhdCBjYWxsYmFja1RvUmVtb3ZlIHNob3VsZCBiZSByZW1vdmVkIGZyb20uXG4gICAgICovXG4gICAgY29uc3QgY2xlYXJDYWxsYmFjayA9IChjYWxsYmFja1RvUmVtb3ZlLCBjYWxsYmFja09iamVjdHMpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja09iamVjdHMuZmluZEluZGV4KChjYWxsYmFja09iamVjdCkgPT4gY2FsbGJhY2tPYmplY3QuYyA9PT0gY2FsbGJhY2tUb1JlbW92ZSk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBjYWxsYmFja09iamVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQWRkIGEgY2FsbGJhY2sgdG8gYmUgZmlyZWQgd2hlbiBhbiBhbmltYXRpb24gaXMgc3RvcHBlZC9jYW5jZWxsZWQuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrOiBBIHJlZmVyZW5jZSB0byB0aGUgY2FsbGJhY2sgdGhhdCBzaG91bGQgYmUgZmlyZWRcbiAgICAgKiBAcGFyYW0gb3B0czogQW55IG9wdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcGFydGljdWxhciBjYWxsYmFja1xuICAgICAqL1xuICAgIGNvbnN0IG9uU3RvcCA9IChjYWxsYmFjaywgb3B0cykgPT4ge1xuICAgICAgICBvblN0b3BPbmVUaW1lQ2FsbGJhY2tzLnB1c2goeyBjOiBjYWxsYmFjaywgbzogb3B0cyB9KTtcbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIGNvbnN0IG9uRmluaXNoID0gKGNhbGxiYWNrLCBvcHRzKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMub25lVGltZUNhbGxiYWNrKSA/IG9uRmluaXNoT25lVGltZUNhbGxiYWNrcyA6IG9uRmluaXNoQ2FsbGJhY2tzO1xuICAgICAgICBjYWxsYmFja3MucHVzaCh7IGM6IGNhbGxiYWNrLCBvOiBvcHRzIH0pO1xuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgY2xlYXJPbkZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgb25GaW5pc2hDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgICAgb25GaW5pc2hPbmVUaW1lQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFueSBXZWIgQW5pbWF0aW9ucyBhbmQgcmVtb3Zlc1xuICAgICAqIGFueSBhbmltYXRpb24gcHJvcGVydGllcyBmcm9tIHRoZVxuICAgICAqIHRoZSBhbmltYXRpb24ncyBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBjb25zdCBjbGVhblVwRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIHdlYkFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3ZWJBbmltYXRpb25zLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGFuaW1hdGlvbidzIHN0eWxlc2hlZXRzXG4gICAgICogZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIGNvbnN0IGNsZWFuVXBTdHlsZVNoZWV0cyA9ICgpID0+IHtcbiAgICAgICAgc3R5bGVzaGVldHMuZm9yRWFjaCgoc3R5bGVzaGVldCkgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGVuIHNoYXJpbmcgc3R5bGVzaGVldHMsIGl0J3MgcG9zc2libGVcbiAgICAgICAgICAgICAqIGZvciBhbm90aGVyIGFuaW1hdGlvbiB0byBoYXZlIGFscmVhZHlcbiAgICAgICAgICAgICAqIGNsZWFuZWQgdXAgYSBwYXJ0aWN1bGFyIHN0eWxlc2hlZXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHN0eWxlc2hlZXQgPT09IG51bGwgfHwgc3R5bGVzaGVldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGVzaGVldC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzaGVldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlc2hlZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3R5bGVzaGVldHMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIGNvbnN0IGJlZm9yZUFkZFJlYWQgPSAocmVhZEZuKSA9PiB7XG4gICAgICAgIF9iZWZvcmVBZGRSZWFkRnVuY3Rpb25zLnB1c2gocmVhZEZuKTtcbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIGNvbnN0IGJlZm9yZUFkZFdyaXRlID0gKHdyaXRlRm4pID0+IHtcbiAgICAgICAgX2JlZm9yZUFkZFdyaXRlRnVuY3Rpb25zLnB1c2god3JpdGVGbik7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCBhZnRlckFkZFJlYWQgPSAocmVhZEZuKSA9PiB7XG4gICAgICAgIF9hZnRlckFkZFJlYWRGdW5jdGlvbnMucHVzaChyZWFkRm4pO1xuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgYWZ0ZXJBZGRXcml0ZSA9ICh3cml0ZUZuKSA9PiB7XG4gICAgICAgIF9hZnRlckFkZFdyaXRlRnVuY3Rpb25zLnB1c2god3JpdGVGbik7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCBiZWZvcmVBZGRDbGFzcyA9IChjbGFzc05hbWUpID0+IHtcbiAgICAgICAgYmVmb3JlQWRkQ2xhc3NlcyA9IGFkZENsYXNzVG9BcnJheShiZWZvcmVBZGRDbGFzc2VzLCBjbGFzc05hbWUpO1xuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgYmVmb3JlUmVtb3ZlQ2xhc3MgPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgICAgIGJlZm9yZVJlbW92ZUNsYXNzZXMgPSBhZGRDbGFzc1RvQXJyYXkoYmVmb3JlUmVtb3ZlQ2xhc3NlcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBDU1MgaW5saW5lIHN0eWxlcyB0byB0aGUgYW5pbWF0aW9uJ3NcbiAgICAgKiBlbGVtZW50cyBiZWZvcmUgdGhlIGFuaW1hdGlvbiBiZWdpbnMuXG4gICAgICovXG4gICAgY29uc3QgYmVmb3JlU3R5bGVzID0gKHN0eWxlcyA9IHt9KSA9PiB7XG4gICAgICAgIGJlZm9yZVN0eWxlc1ZhbHVlID0gc3R5bGVzO1xuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXIgQ1NTIGlubGluZSBzdHlsZXMgZnJvbSB0aGUgYW5pbWF0aW9uJ3NcbiAgICAgKiBlbGVtZW50cyBiZWZvcmUgdGhlIGFuaW1hdGlvbiBiZWdpbnMuXG4gICAgICovXG4gICAgY29uc3QgYmVmb3JlQ2xlYXJTdHlsZXMgPSAocHJvcGVydHlOYW1lcyA9IFtdKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgcHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgYmVmb3JlU3R5bGVzVmFsdWVbcHJvcGVydHldID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIGNvbnN0IGFmdGVyQWRkQ2xhc3MgPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgICAgIGFmdGVyQWRkQ2xhc3NlcyA9IGFkZENsYXNzVG9BcnJheShhZnRlckFkZENsYXNzZXMsIGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCBhZnRlclJlbW92ZUNsYXNzID0gKGNsYXNzTmFtZSkgPT4ge1xuICAgICAgICBhZnRlclJlbW92ZUNsYXNzZXMgPSBhZGRDbGFzc1RvQXJyYXkoYWZ0ZXJSZW1vdmVDbGFzc2VzLCBjbGFzc05hbWUpO1xuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgYWZ0ZXJTdHlsZXMgPSAoc3R5bGVzID0ge30pID0+IHtcbiAgICAgICAgYWZ0ZXJTdHlsZXNWYWx1ZSA9IHN0eWxlcztcbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIGNvbnN0IGFmdGVyQ2xlYXJTdHlsZXMgPSAocHJvcGVydHlOYW1lcyA9IFtdKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgcHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgYWZ0ZXJTdHlsZXNWYWx1ZVtwcm9wZXJ0eV0gPSAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0RmlsbCA9ICgpID0+IHtcbiAgICAgICAgaWYgKF9maWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBfZmlsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50QW5pbWF0aW9uLmdldEZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ2JvdGgnO1xuICAgIH07XG4gICAgY29uc3QgZ2V0RGlyZWN0aW9uID0gKCkgPT4ge1xuICAgICAgICBpZiAoZm9yY2VEaXJlY3Rpb25WYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9yY2VEaXJlY3Rpb25WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2RpcmVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gX2RpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50QW5pbWF0aW9uLmdldERpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbm9ybWFsJztcbiAgICB9O1xuICAgIGNvbnN0IGdldEVhc2luZyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHNob3VsZEZvcmNlTGluZWFyRWFzaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2xpbmVhcic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9lYXNpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9lYXNpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudEFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudEFuaW1hdGlvbi5nZXRFYXNpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ2xpbmVhcic7XG4gICAgfTtcbiAgICBjb25zdCBnZXREdXJhdGlvbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKHNob3VsZEZvcmNlU3luY1BsYXliYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9yY2VEdXJhdGlvblZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JjZUR1cmF0aW9uVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gX2R1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnRBbmltYXRpb24uZ2V0RHVyYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIGNvbnN0IGdldEl0ZXJhdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChfaXRlcmF0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gX2l0ZXJhdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudEFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudEFuaW1hdGlvbi5nZXRJdGVyYXRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfTtcbiAgICBjb25zdCBnZXREZWxheSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGZvcmNlRGVsYXlWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9yY2VEZWxheVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfZGVsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9kZWxheTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50QW5pbWF0aW9uLmdldERlbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBjb25zdCBnZXRLZXlmcmFtZXMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfa2V5ZnJhbWVzO1xuICAgIH07XG4gICAgY29uc3QgZGlyZWN0aW9uID0gKGFuaW1hdGlvbkRpcmVjdGlvbikgPT4ge1xuICAgICAgICBfZGlyZWN0aW9uID0gYW5pbWF0aW9uRGlyZWN0aW9uO1xuICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCBmaWxsID0gKGFuaW1hdGlvbkZpbGwpID0+IHtcbiAgICAgICAgX2ZpbGwgPSBhbmltYXRpb25GaWxsO1xuICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCBkZWxheSA9IChhbmltYXRpb25EZWxheSkgPT4ge1xuICAgICAgICBfZGVsYXkgPSBhbmltYXRpb25EZWxheTtcbiAgICAgICAgdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgZWFzaW5nID0gKGFuaW1hdGlvbkVhc2luZykgPT4ge1xuICAgICAgICBfZWFzaW5nID0gYW5pbWF0aW9uRWFzaW5nO1xuICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IChhbmltYXRpb25EdXJhdGlvbikgPT4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ1NTIEFuaW1hdGlvbiBEdXJhdGlvbnMgb2YgMG1zIHdvcmsgZmluZSBvbiBDaHJvbWVcbiAgICAgICAgICogYnV0IGRvIG5vdCBydW4gb24gU2FmYXJpLCBzbyBmb3JjZSBpdCB0byAxbXMgdG9cbiAgICAgICAgICogZ2V0IGl0IHRvIHJ1biBvbiBib3RoIHBsYXRmb3Jtcy5cbiAgICAgICAgICovXG4gICAgICAgIGlmICghc3VwcG9ydHNXZWJBbmltYXRpb25zICYmIGFuaW1hdGlvbkR1cmF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbiA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgX2R1cmF0aW9uID0gYW5pbWF0aW9uRHVyYXRpb247XG4gICAgICAgIHVwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSAoYW5pbWF0aW9uSXRlcmF0aW9ucykgPT4ge1xuICAgICAgICBfaXRlcmF0aW9ucyA9IGFuaW1hdGlvbkl0ZXJhdGlvbnM7XG4gICAgICAgIHVwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIGNvbnN0IHBhcmVudCA9IChhbmltYXRpb24pID0+IHtcbiAgICAgICAgcGFyZW50QW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgYWRkRWxlbWVudCA9IChlbCkgPT4ge1xuICAgICAgICBpZiAoZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbC5sZW5ndGggPj0gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChlbFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBhZGRFbGVtZW50IHZhbHVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEFuaW1hdGlvbiA9IChhbmltYXRpb25Ub0FkZCkgPT4ge1xuICAgICAgICBpZiAoYW5pbWF0aW9uVG9BZGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYW5pbWF0aW9uVG9BZGQpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRpb24gb2YgYW5pbWF0aW9uVG9BZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnBhcmVudChhbmkpO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZEFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvblRvQWRkLnBhcmVudChhbmkpO1xuICAgICAgICAgICAgICAgIGNoaWxkQW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvblRvQWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3Qga2V5ZnJhbWVzID0gKGtleWZyYW1lVmFsdWVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpZmZlcmVudCA9IF9rZXlmcmFtZXMgIT09IGtleWZyYW1lVmFsdWVzO1xuICAgICAgICBfa2V5ZnJhbWVzID0ga2V5ZnJhbWVWYWx1ZXM7XG4gICAgICAgIGlmIChkaWZmZXJlbnQpIHtcbiAgICAgICAgICAgIHVwZGF0ZUtleWZyYW1lcyhfa2V5ZnJhbWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlS2V5ZnJhbWVzID0gKGtleWZyYW1lVmFsdWVzKSA9PiB7XG4gICAgICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIGdldFdlYkFuaW1hdGlvbnMoKS5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBhbmltYXRpb24uZWZmZWN0J3MgdHlwZSBpcyBBbmltYXRpb25FZmZlY3QuXG4gICAgICAgICAgICAgICAgICogSG93ZXZlciwgaW4gdGhpcyBjYXNlIHdlIGhhdmUgYSBtb3JlIHNwZWNpZmljXG4gICAgICAgICAgICAgICAgICogdHlwZSBvZiBBbmltYXRpb25FZmZlY3QgY2FsbGVkIEtleWZyYW1lRWZmZWN0IHdoaWNoXG4gICAgICAgICAgICAgICAgICogaW5oZXJpdHMgZnJvbSBBbmltYXRpb25FZmZlY3QuIEFzIGEgcmVzdWx0LFxuICAgICAgICAgICAgICAgICAqIHdlIGNhc3QgYW5pbWF0aW9uLmVmZmVjdCB0byBLZXlmcmFtZUVmZmVjdC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBrZXlmcmFtZUVmZmVjdCA9IGFuaW1hdGlvbi5lZmZlY3Q7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogc2V0S2V5ZnJhbWVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYWxsIGJyb3dzZXJcbiAgICAgICAgICAgICAgICAgKiB2ZXJzaW9ucyB0aGF0IElvbmljIHN1cHBvcnRzLCBzbyB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAgICAgICogY2hlY2sgZm9yIHN1cHBvcnQgYmVmb3JlIHVzaW5nIGl0LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvc3RyaWN0LWJvb2xlYW4tZXhwcmVzc2lvbnNcbiAgICAgICAgICAgICAgICBpZiAoa2V5ZnJhbWVFZmZlY3Quc2V0S2V5ZnJhbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleWZyYW1lRWZmZWN0LnNldEtleWZyYW1lcyhrZXlmcmFtZVZhbHVlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFZmZlY3QgPSBuZXcgS2V5ZnJhbWVFZmZlY3Qoa2V5ZnJhbWVFZmZlY3QudGFyZ2V0LCBrZXlmcmFtZVZhbHVlcywga2V5ZnJhbWVFZmZlY3QuZ2V0VGltaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uZWZmZWN0ID0gbmV3RWZmZWN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSdW4gYWxsIFwiYmVmb3JlXCIgYW5pbWF0aW9uIGhvb2tzLlxuICAgICAqL1xuICAgIGNvbnN0IGJlZm9yZUFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICAgICAgLy8gUnVucyBhbGwgYmVmb3JlIHJlYWQgY2FsbGJhY2tzXG4gICAgICAgIF9iZWZvcmVBZGRSZWFkRnVuY3Rpb25zLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjaygpKTtcbiAgICAgICAgLy8gUnVucyBhbGwgYmVmb3JlIHdyaXRlIGNhbGxiYWNrc1xuICAgICAgICBfYmVmb3JlQWRkV3JpdGVGdW5jdGlvbnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAvLyBVcGRhdGVzIHN0eWxlcyBhbmQgY2xhc3NlcyBiZWZvcmUgYW5pbWF0aW9uIHJ1bnNcbiAgICAgICAgY29uc3QgYWRkQ2xhc3NlcyA9IGJlZm9yZUFkZENsYXNzZXM7XG4gICAgICAgIGNvbnN0IHJlbW92ZUNsYXNzZXMgPSBiZWZvcmVSZW1vdmVDbGFzc2VzO1xuICAgICAgICBjb25zdCBzdHlsZXMgPSBiZWZvcmVTdHlsZXNWYWx1ZTtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRDbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3Q7XG4gICAgICAgICAgICBhZGRDbGFzc2VzLmZvckVhY2goKGMpID0+IGVsZW1lbnRDbGFzc0xpc3QuYWRkKGMpKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMuZm9yRWFjaCgoYykgPT4gZWxlbWVudENsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBzdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbCwgcHJvcGVydHksIHN0eWxlc1twcm9wZXJ0eV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSdW4gYWxsIFwiYWZ0ZXJcIiBhbmltYXRpb24gaG9va3MuXG4gICAgICovXG4gICAgY29uc3QgYWZ0ZXJBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIC8vIFJ1bnMgYWxsIGFmdGVyIHJlYWQgY2FsbGJhY2tzXG4gICAgICAgIF9hZnRlckFkZFJlYWRGdW5jdGlvbnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAvLyBSdW5zIGFsbCBhZnRlciB3cml0ZSBjYWxsYmFja3NcbiAgICAgICAgX2FmdGVyQWRkV3JpdGVGdW5jdGlvbnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAvLyBVcGRhdGVzIHN0eWxlcyBhbmQgY2xhc3NlcyBiZWZvcmUgYW5pbWF0aW9uIGVuZHNcbiAgICAgICAgY29uc3QgY3VycmVudFN0ZXAgPSB3aWxsQ29tcGxldGUgPyAxIDogMDtcbiAgICAgICAgY29uc3QgYWRkQ2xhc3NlcyA9IGFmdGVyQWRkQ2xhc3NlcztcbiAgICAgICAgY29uc3QgcmVtb3ZlQ2xhc3NlcyA9IGFmdGVyUmVtb3ZlQ2xhc3NlcztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gYWZ0ZXJTdHlsZXNWYWx1ZTtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRDbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3Q7XG4gICAgICAgICAgICBhZGRDbGFzc2VzLmZvckVhY2goKGMpID0+IGVsZW1lbnRDbGFzc0xpc3QuYWRkKGMpKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMuZm9yRWFjaCgoYykgPT4gZWxlbWVudENsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBzdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbCwgcHJvcGVydHksIHN0eWxlc1twcm9wZXJ0eV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGVhbiB1cCBhbnkgdmFsdWUgY29lcmNpb24gYmVmb3JlXG4gICAgICAgICAqIHRoZSB1c2VyIGNhbGxiYWNrcyBmaXJlIG90aGVyd2lzZVxuICAgICAgICAgKiB0aGV5IG1heSBnZXQgc3RhbGUgdmFsdWVzLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgICogaWYgc29tZW9uZSBjYWxscyBwcm9ncmVzc1N0YXJ0KDApIHRoZVxuICAgICAgICAgKiBhbmltYXRpb24gbWF5IHN0aWxsIGJlIHJldmVyc2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgZm9yY2VEdXJhdGlvblZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3JjZURpcmVjdGlvblZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3JjZURlbGF5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIG9uRmluaXNoQ2FsbGJhY2tzLmZvckVhY2goKG9uRmluaXNoQ2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIHJldHVybiBvbkZpbmlzaENhbGxiYWNrLmMoY3VycmVudFN0ZXAsIGFuaSk7XG4gICAgICAgIH0pO1xuICAgICAgICBvbkZpbmlzaE9uZVRpbWVDYWxsYmFja3MuZm9yRWFjaCgob25GaW5pc2hDYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG9uRmluaXNoQ2FsbGJhY2suYyhjdXJyZW50U3RlcCwgYW5pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9uRmluaXNoT25lVGltZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICBzaG91bGRDYWxjdWxhdGVOdW1BbmltYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgaWYgKHdpbGxDb21wbGV0ZSkge1xuICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHdpbGxDb21wbGV0ZSA9IHRydWU7XG4gICAgfTtcbiAgICBjb25zdCBhbmltYXRpb25GaW5pc2ggPSAoKSA9PiB7XG4gICAgICAgIGlmIChudW1BbmltYXRpb25zUnVubmluZyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG51bUFuaW1hdGlvbnNSdW5uaW5nLS07XG4gICAgICAgIGlmIChudW1BbmltYXRpb25zUnVubmluZyA9PT0gMCkge1xuICAgICAgICAgICAgYWZ0ZXJBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRBbmltYXRpb24uYW5pbWF0aW9uRmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGluaXRpYWxpemVXZWJBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IGVsZW1lbnQuYW5pbWF0ZShfa2V5ZnJhbWVzLCB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZGVsYXk6IGdldERlbGF5KCksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGdldER1cmF0aW9uKCksXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBnZXRFYXNpbmcoKSxcbiAgICAgICAgICAgICAgICBpdGVyYXRpb25zOiBnZXRJdGVyYXRpb25zKCksXG4gICAgICAgICAgICAgICAgZmlsbDogZ2V0RmlsbCgpLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZ2V0RGlyZWN0aW9uKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5wYXVzZSgpO1xuICAgICAgICAgICAgd2ViQW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAod2ViQW5pbWF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3ZWJBbmltYXRpb25zWzBdLm9uZmluaXNoID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZpbmlzaCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaW5pdGlhbGl6ZUFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICAgICAgYmVmb3JlQW5pbWF0aW9uKCk7XG4gICAgICAgIGlmIChfa2V5ZnJhbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplV2ViQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QW5pbWF0aW9uU3RlcCA9IChzdGVwKSA9PiB7XG4gICAgICAgIHN0ZXAgPSBNYXRoLm1pbihNYXRoLm1heChzdGVwLCAwKSwgMC45OTk5KTtcbiAgICAgICAgaWYgKHN1cHBvcnRzV2ViQW5pbWF0aW9ucykge1xuICAgICAgICAgICAgd2ViQW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIGNyZWF0aW5nIHRoZSBhbmltYXRpb24gdGhlIGRlbGF5IGlzIGd1YXJhbnRlZWQgdG8gYmUgc2V0IHRvIGEgbnVtYmVyLlxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50VGltZSA9IGFuaW1hdGlvbi5lZmZlY3QuZ2V0Q29tcHV0ZWRUaW1pbmcoKS5kZWxheSArIGdldER1cmF0aW9uKCkgKiBzdGVwO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5wYXVzZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZVdlYkFuaW1hdGlvbiA9IChzdGVwKSA9PiB7XG4gICAgICAgIHdlYkFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XG4gICAgICAgICAgICBhbmltYXRpb24uZWZmZWN0LnVwZGF0ZVRpbWluZyh7XG4gICAgICAgICAgICAgICAgZGVsYXk6IGdldERlbGF5KCksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGdldER1cmF0aW9uKCksXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBnZXRFYXNpbmcoKSxcbiAgICAgICAgICAgICAgICBpdGVyYXRpb25zOiBnZXRJdGVyYXRpb25zKCksXG4gICAgICAgICAgICAgICAgZmlsbDogZ2V0RmlsbCgpLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZ2V0RGlyZWN0aW9uKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdGVwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNldEFuaW1hdGlvblN0ZXAoc3RlcCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZSA9IChkZWVwID0gZmFsc2UsIHRvZ2dsZUFuaW1hdGlvbk5hbWUgPSB0cnVlLCBzdGVwKSA9PiB7XG4gICAgICAgIGlmIChkZWVwKSB7XG4gICAgICAgICAgICBjaGlsZEFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnVwZGF0ZShkZWVwLCB0b2dnbGVBbmltYXRpb25OYW1lLCBzdGVwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIHVwZGF0ZVdlYkFuaW1hdGlvbihzdGVwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgcHJvZ3Jlc3NTdGFydCA9IChmb3JjZUxpbmVhckVhc2luZyA9IGZhbHNlLCBzdGVwKSA9PiB7XG4gICAgICAgIGNoaWxkQW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0YXJ0KGZvcmNlTGluZWFyRWFzaW5nLCBzdGVwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBhdXNlQW5pbWF0aW9uKCk7XG4gICAgICAgIHNob3VsZEZvcmNlTGluZWFyRWFzaW5nID0gZm9yY2VMaW5lYXJFYXNpbmc7XG4gICAgICAgIGlmICghaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGluaXRpYWxpemVBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUoZmFsc2UsIHRydWUsIHN0ZXApO1xuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgcHJvZ3Jlc3NTdGVwID0gKHN0ZXApID0+IHtcbiAgICAgICAgY2hpbGRBbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbikgPT4ge1xuICAgICAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RlcChzdGVwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldEFuaW1hdGlvblN0ZXAoc3RlcCk7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCBwcm9ncmVzc0VuZCA9IChwbGF5VG8sIHN0ZXAsIGR1cikgPT4ge1xuICAgICAgICBzaG91bGRGb3JjZUxpbmVhckVhc2luZyA9IGZhbHNlO1xuICAgICAgICBjaGlsZEFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XG4gICAgICAgICAgICBhbmltYXRpb24ucHJvZ3Jlc3NFbmQocGxheVRvLCBzdGVwLCBkdXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGR1ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3JjZUR1cmF0aW9uVmFsdWUgPSBkdXI7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgd2lsbENvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHBsYXlUbyA9PT0gMCkge1xuICAgICAgICAgICAgZm9yY2VEaXJlY3Rpb25WYWx1ZSA9IGdldERpcmVjdGlvbigpID09PSAncmV2ZXJzZScgPyAnbm9ybWFsJyA6ICdyZXZlcnNlJztcbiAgICAgICAgICAgIGlmIChmb3JjZURpcmVjdGlvblZhbHVlID09PSAncmV2ZXJzZScpIHtcbiAgICAgICAgICAgICAgICB3aWxsQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICBzZXRBbmltYXRpb25TdGVwKDEgLSBzdGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcmNlRGVsYXlWYWx1ZSA9ICgxIC0gc3RlcCkgKiBnZXREdXJhdGlvbigpICogLTE7XG4gICAgICAgICAgICAgICAgdXBkYXRlKGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGxheVRvID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoc3VwcG9ydHNXZWJBbmltYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgc2V0QW5pbWF0aW9uU3RlcChzdGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcmNlRGVsYXlWYWx1ZSA9IHN0ZXAgKiBnZXREdXJhdGlvbigpICogLTE7XG4gICAgICAgICAgICAgICAgdXBkYXRlKGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsYXlUbyAhPT0gdW5kZWZpbmVkICYmICFwYXJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pO1xuICAgIH07XG4gICAgY29uc3QgcGF1c2VBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgICAgICAgaWYgKHN1cHBvcnRzV2ViQW5pbWF0aW9ucykge1xuICAgICAgICAgICAgICAgIHdlYkFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tcGxheS1zdGF0ZScsICdwYXVzZWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHBhdXNlID0gKCkgPT4ge1xuICAgICAgICBjaGlsZEFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XG4gICAgICAgICAgICBhbmltYXRpb24ucGF1c2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBhdXNlQW5pbWF0aW9uKCk7XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCBwbGF5Q1NTQW5pbWF0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgYW5pbWF0aW9uRmluaXNoKCk7XG4gICAgfTtcbiAgICBjb25zdCBwbGF5V2ViQW5pbWF0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgd2ViQW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5wbGF5KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoX2tleWZyYW1lcy5sZW5ndGggPT09IDAgfHwgZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBhbmltYXRpb25GaW5pc2goKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVzZXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIHNldEFuaW1hdGlvblN0ZXAoMCk7XG4gICAgICAgICAgICB1cGRhdGVXZWJBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGxheSA9IChvcHRzKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5zeW5jKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkRm9yY2VTeW5jUGxheWJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9uRmluaXNoKCgpID0+IChzaG91bGRGb3JjZVN5bmNQbGF5YmFjayA9IGZhbHNlKSwgeyBvbmVUaW1lQ2FsbGJhY2s6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgcmVzZXRBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNob3VsZENhbGN1bGF0ZU51bUFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBudW1BbmltYXRpb25zUnVubmluZyA9IGNoaWxkQW5pbWF0aW9ucy5sZW5ndGggKyAxO1xuICAgICAgICAgICAgICAgIHNob3VsZENhbGN1bGF0ZU51bUFuaW1hdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hlbiBvbmUgb2YgdGhlc2UgY2FsbGJhY2tzIGZpcmVzIHdlXG4gICAgICAgICAgICAgKiBuZWVkIHRvIGNsZWFyIHRoZSBvdGhlcidzIGNhbGxiYWNrIG90aGVyd2lzZVxuICAgICAgICAgICAgICogeW91IGNhbiBwb3RlbnRpYWxseSBnZXQgdGhlc2UgY2FsbGJhY2tzXG4gICAgICAgICAgICAgKiBmaXJpbmcgbXVsdGlwbGUgdGltZXMgaWYgdGhlIHBsYXkgbWV0aG9kXG4gICAgICAgICAgICAgKiBpcyBzdWJzZXF1ZW50bHkgY2FsbGVkLlxuICAgICAgICAgICAgICogRXhhbXBsZTpcbiAgICAgICAgICAgICAqIGFuaW1hdGlvbi5wbGF5KCkgKG9uU3RvcCBhbmQgb25GaW5pc2ggY2FsbGJhY2tzIGFyZSByZWdpc3RlcmVkKVxuICAgICAgICAgICAgICogYW5pbWF0aW9uLnN0b3AoKSAob25TdG9wIGNhbGxiYWNrIGlzIGZpcmVkLCBvbkZpbmlzaCBpcyBub3QpXG4gICAgICAgICAgICAgKiBhbmltYXRpb24ucGxheSgpIChvblN0b3AgYW5kIG9uRmluaXNoIGNhbGxiYWNrcyBhcmUgcmVnaXN0ZXJlZClcbiAgICAgICAgICAgICAqIFRvdGFsIG9uU3RvcCBjYWxsYmFja3M6IDFcbiAgICAgICAgICAgICAqIFRvdGFsIG9uRmluaXNoIGNhbGxiYWNrczogMlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBvblN0b3BDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhckNhbGxiYWNrKG9uRmluaXNoQ2FsbGJhY2ssIG9uRmluaXNoT25lVGltZUNhbGxiYWNrcyk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG9uRmluaXNoQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xlYXJDYWxsYmFjayhvblN0b3BDYWxsYmFjaywgb25TdG9wT25lVGltZUNhbGxiYWNrcyk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIHBsYXkgbWV0aG9kIHJlc29sdmVzIHdoZW4gYW4gYW5pbWF0aW9uXG4gICAgICAgICAgICAgKiBydW4gZWl0aGVyIGZpbmlzaGVzIG9yIGlzIGNhbmNlbGxlZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb25GaW5pc2gob25GaW5pc2hDYWxsYmFjaywgeyBvbmVUaW1lQ2FsbGJhY2s6IHRydWUgfSk7XG4gICAgICAgICAgICBvblN0b3Aob25TdG9wQ2FsbGJhY2ssIHsgb25lVGltZUNhbGxiYWNrOiB0cnVlIH0pO1xuICAgICAgICAgICAgY2hpbGRBbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5wbGF5KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBwbGF5V2ViQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGxheUNTU0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuIGFuaW1hdGlvbiBhbmQgcmVzZXRzIGl0IHN0YXRlIHRvIHRoZVxuICAgICAqIGJlZ2lubmluZy4gVGhpcyBkb2VzIG5vdCBmaXJlIGFueSBvbkZpbmlzaFxuICAgICAqIGNhbGxiYWNrcyBiZWNhdXNlIHRoZSBhbmltYXRpb24gZGlkIG5vdCBmaW5pc2guXG4gICAgICogSG93ZXZlciwgc2luY2UgdGhlIGFuaW1hdGlvbiB3YXMgbm90IGRlc3Ryb3llZFxuICAgICAqIChpLmUuIHRoZSBhbmltYXRpb24gY291bGQgcnVuIGFnYWluKSB3ZSBkbyBub3RcbiAgICAgKiBjbGVhciB0aGUgb25GaW5pc2ggY2FsbGJhY2tzLlxuICAgICAqL1xuICAgIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgICAgIGNoaWxkQW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGNsZWFuVXBFbGVtZW50cygpO1xuICAgICAgICAgICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXNldEZsYWdzKCk7XG4gICAgICAgIG9uU3RvcE9uZVRpbWVDYWxsYmFja3MuZm9yRWFjaCgob25TdG9wQ2FsbGJhY2spID0+IG9uU3RvcENhbGxiYWNrLmMoMCwgYW5pKSk7XG4gICAgICAgIG9uU3RvcE9uZVRpbWVDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIGNvbnN0IGZyb20gPSAocHJvcGVydHksIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpcnN0RnJhbWUgPSBfa2V5ZnJhbWVzWzBdO1xuICAgICAgICBpZiAoZmlyc3RGcmFtZSAhPT0gdW5kZWZpbmVkICYmIChmaXJzdEZyYW1lLm9mZnNldCA9PT0gdW5kZWZpbmVkIHx8IGZpcnN0RnJhbWUub2Zmc2V0ID09PSAwKSkge1xuICAgICAgICAgICAgZmlyc3RGcmFtZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9rZXlmcmFtZXMgPSBbeyBvZmZzZXQ6IDAsIFtwcm9wZXJ0eV06IHZhbHVlIH0sIC4uLl9rZXlmcmFtZXNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmk7XG4gICAgfTtcbiAgICBjb25zdCB0byA9IChwcm9wZXJ0eSwgdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgbGFzdEZyYW1lID0gX2tleWZyYW1lc1tfa2V5ZnJhbWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdEZyYW1lICE9PSB1bmRlZmluZWQgJiYgKGxhc3RGcmFtZS5vZmZzZXQgPT09IHVuZGVmaW5lZCB8fCBsYXN0RnJhbWUub2Zmc2V0ID09PSAxKSkge1xuICAgICAgICAgICAgbGFzdEZyYW1lW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX2tleWZyYW1lcyA9IFsuLi5fa2V5ZnJhbWVzLCB7IG9mZnNldDogMSwgW3Byb3BlcnR5XTogdmFsdWUgfV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaTtcbiAgICB9O1xuICAgIGNvbnN0IGZyb21UbyA9IChwcm9wZXJ0eSwgZnJvbVZhbHVlLCB0b1ZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHByb3BlcnR5LCBmcm9tVmFsdWUpLnRvKHByb3BlcnR5LCB0b1ZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiAoYW5pID0ge1xuICAgICAgICBwYXJlbnRBbmltYXRpb24sXG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICBjaGlsZEFuaW1hdGlvbnMsXG4gICAgICAgIGlkLFxuICAgICAgICBhbmltYXRpb25GaW5pc2gsXG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvLFxuICAgICAgICBmcm9tVG8sXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgcGxheSxcbiAgICAgICAgcGF1c2UsXG4gICAgICAgIHN0b3AsXG4gICAgICAgIGRlc3Ryb3ksXG4gICAgICAgIGtleWZyYW1lcyxcbiAgICAgICAgYWRkQW5pbWF0aW9uLFxuICAgICAgICBhZGRFbGVtZW50LFxuICAgICAgICB1cGRhdGUsXG4gICAgICAgIGZpbGwsXG4gICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgaXRlcmF0aW9ucyxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGVhc2luZyxcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGdldFdlYkFuaW1hdGlvbnMsXG4gICAgICAgIGdldEtleWZyYW1lcyxcbiAgICAgICAgZ2V0RmlsbCxcbiAgICAgICAgZ2V0RGlyZWN0aW9uLFxuICAgICAgICBnZXREZWxheSxcbiAgICAgICAgZ2V0SXRlcmF0aW9ucyxcbiAgICAgICAgZ2V0RWFzaW5nLFxuICAgICAgICBnZXREdXJhdGlvbixcbiAgICAgICAgYWZ0ZXJBZGRSZWFkLFxuICAgICAgICBhZnRlckFkZFdyaXRlLFxuICAgICAgICBhZnRlckNsZWFyU3R5bGVzLFxuICAgICAgICBhZnRlclN0eWxlcyxcbiAgICAgICAgYWZ0ZXJSZW1vdmVDbGFzcyxcbiAgICAgICAgYWZ0ZXJBZGRDbGFzcyxcbiAgICAgICAgYmVmb3JlQWRkUmVhZCxcbiAgICAgICAgYmVmb3JlQWRkV3JpdGUsXG4gICAgICAgIGJlZm9yZUNsZWFyU3R5bGVzLFxuICAgICAgICBiZWZvcmVTdHlsZXMsXG4gICAgICAgIGJlZm9yZVJlbW92ZUNsYXNzLFxuICAgICAgICBiZWZvcmVBZGRDbGFzcyxcbiAgICAgICAgb25GaW5pc2gsXG4gICAgICAgIGlzUnVubmluZyxcbiAgICAgICAgcHJvZ3Jlc3NTdGFydCxcbiAgICAgICAgcHJvZ3Jlc3NTdGVwLFxuICAgICAgICBwcm9ncmVzc0VuZCxcbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUFuaW1hdGlvbiBhcyBjIH07XG4iXSwibmFtZXMiOlsiY2xlYXJTdHlsZVNoZWV0cyIsImNsZWFuVXBFbGVtZW50cyIsImNsZWFuVXBTdHlsZVNoZWV0cyIsImNsZWFyQ2FsbGJhY2siLCJjYWxsYmFja1RvUmVtb3ZlIiwiY2FsbGJhY2tPYmplY3RzIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJjYWxsYmFja09iamVjdCIsImMiLCJzcGxpY2UiLCJvbkZpbmlzaCIsImNhbGxiYWNrIiwib3B0cyIsIm9uZVRpbWVDYWxsYmFjayIsIm9uRmluaXNoT25lVGltZUNhbGxiYWNrcyIsIm9uRmluaXNoQ2FsbGJhY2tzIiwicHVzaCIsIm8iLCJhbmkiLCJjbGVhck9uRmluaXNoIiwibGVuZ3RoIiwic3VwcG9ydHNXZWJBbmltYXRpb25zIiwid2ViQW5pbWF0aW9ucyIsImZvckVhY2giLCJhbmltYXRpb24iLCJjYW5jZWwiLCJzdHlsZXNoZWV0cyIsInN0eWxlc2hlZXQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJnZXRGaWxsIiwidW5kZWZpbmVkIiwiX2ZpbGwiLCJwYXJlbnRBbmltYXRpb24iLCJnZXREaXJlY3Rpb24iLCJmb3JjZURpcmVjdGlvblZhbHVlIiwiX2RpcmVjdGlvbiIsImdldEVhc2luZyIsInNob3VsZEZvcmNlTGluZWFyRWFzaW5nIiwiX2Vhc2luZyIsImdldER1cmF0aW9uIiwic2hvdWxkRm9yY2VTeW5jUGxheWJhY2siLCJmb3JjZUR1cmF0aW9uVmFsdWUiLCJfZHVyYXRpb24iLCJnZXRJdGVyYXRpb25zIiwiX2l0ZXJhdGlvbnMiLCJnZXREZWxheSIsImZvcmNlRGVsYXlWYWx1ZSIsIl9kZWxheSIsInVwZGF0ZUtleWZyYW1lcyIsImtleWZyYW1lVmFsdWVzIiwiZ2V0V2ViQW5pbWF0aW9ucyIsImtleWZyYW1lRWZmZWN0IiwiZWZmZWN0Iiwic2V0S2V5ZnJhbWVzIiwibmV3RWZmZWN0IiwiS2V5ZnJhbWVFZmZlY3QiLCJ0YXJnZXQiLCJnZXRUaW1pbmciLCJhbmltYXRpb25GaW5pc2giLCJudW1BbmltYXRpb25zUnVubmluZyIsIl9hZnRlckFkZFJlYWRGdW5jdGlvbnMiLCJfYWZ0ZXJBZGRXcml0ZUZ1bmN0aW9ucyIsImN1cnJlbnRTdGVwIiwid2lsbENvbXBsZXRlIiwiYWRkQ2xhc3NlcyIsImFmdGVyQWRkQ2xhc3NlcyIsInJlbW92ZUNsYXNzZXMiLCJhZnRlclJlbW92ZUNsYXNzZXMiLCJzdHlsZXMiLCJhZnRlclN0eWxlc1ZhbHVlIiwiZWxlbWVudHMiLCJlbCIsImVsZW1lbnRDbGFzc0xpc3QiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJwcm9wZXJ0eSIsImhhc093blByb3BlcnR5Iiwic2V0U3R5bGVQcm9wZXJ0eSIsIm9uRmluaXNoQ2FsbGJhY2siLCJzaG91bGRDYWxjdWxhdGVOdW1BbmltYXRpb25zIiwiZmluaXNoZWQiLCJhZnRlckFuaW1hdGlvbiIsImluaXRpYWxpemVBbmltYXRpb24iLCJfYmVmb3JlQWRkUmVhZEZ1bmN0aW9ucyIsImJlZm9yZUFkZENsYXNzZXMiLCJiZWZvcmVSZW1vdmVDbGFzc2VzIiwiYmVmb3JlU3R5bGVzVmFsdWUiLCJiZWZvcmVBbmltYXRpb24iLCJfa2V5ZnJhbWVzIiwiZWxlbWVudCIsImFuaW1hdGUiLCJpZCIsImRlbGF5IiwiZHVyYXRpb24iLCJlYXNpbmciLCJpdGVyYXRpb25zIiwiZmlsbCIsImRpcmVjdGlvbiIsInBhdXNlIiwib25maW5pc2giLCJpbml0aWFsaXplZCIsInNldEFuaW1hdGlvblN0ZXAiLCJzdGVwIiwiTWF0aCIsIm1pbiIsIm1heCIsImdldENvbXB1dGVkVGltaW5nIiwidXBkYXRlV2ViQW5pbWF0aW9uIiwidXBkYXRlVGltaW5nIiwidXBkYXRlIiwiZGVlcCIsInRvZ2dsZUFuaW1hdGlvbk5hbWUiLCJjaGlsZEFuaW1hdGlvbnMiLCJwYXVzZUFuaW1hdGlvbiIsInBhdXNlZCIsInBsYXkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInN5bmMiLCJvblN0b3BDYWxsYmFjayIsIm9uU3RvcE9uZVRpbWVDYWxsYmFja3MiLCJvblN0b3AiLCJmcm9tIiwidmFsdWUiLCJmaXJzdEZyYW1lIiwib2Zmc2V0IiwidG8iLCJsYXN0RnJhbWUiLCJmcm9tVG8iLCJmcm9tVmFsdWUiLCJ0b1ZhbHVlIiwicGFyZW50Iiwic3RvcCIsImRlc3Ryb3kiLCJrZXlmcmFtZXMiLCJkaWZmZXJlbnQiLCJhZGRBbmltYXRpb24iLCJhbmltYXRpb25Ub0FkZCIsIkFycmF5IiwiaXNBcnJheSIsImFkZEVsZW1lbnQiLCJub2RlVHlwZSIsImkiLCJjb25zb2xlIiwiZXJyb3IiLCJhbmltYXRpb25GaWxsIiwiYW5pbWF0aW9uRGlyZWN0aW9uIiwiYW5pbWF0aW9uSXRlcmF0aW9ucyIsImFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRWFzaW5nIiwiYW5pbWF0aW9uRGVsYXkiLCJnZXRLZXlmcmFtZXMiLCJhZnRlckFkZFJlYWQiLCJyZWFkRm4iLCJhZnRlckFkZFdyaXRlIiwid3JpdGVGbiIsImFmdGVyQ2xlYXJTdHlsZXMiLCJwcm9wZXJ0eU5hbWVzIiwiYWZ0ZXJTdHlsZXMiLCJhZnRlclJlbW92ZUNsYXNzIiwiY2xhc3NOYW1lIiwiYWRkQ2xhc3NUb0FycmF5IiwiYWZ0ZXJBZGRDbGFzcyIsImJlZm9yZUFkZFJlYWQiLCJiZWZvcmVBZGRXcml0ZSIsIl9iZWZvcmVBZGRXcml0ZUZ1bmN0aW9ucyIsImJlZm9yZUNsZWFyU3R5bGVzIiwiYmVmb3JlU3R5bGVzIiwiYmVmb3JlUmVtb3ZlQ2xhc3MiLCJiZWZvcmVBZGRDbGFzcyIsImlzUnVubmluZyIsInByb2dyZXNzU3RhcnQiLCJmb3JjZUxpbmVhckVhc2luZyIsInByb2dyZXNzU3RlcCIsInByb2dyZXNzRW5kIiwicGxheVRvIiwiZHVyIl0sIm1hcHBpbmdzIjoiOzs7O3FwQkFLb0JBLElBQUFDLElBQUFELEdBQUFFLEdBQUEsRUFLWkMsRUFBbUIsQ0FBa0JDLEVBQUFDLFdBQTJCQyxFQUFBRCxFQUFnQkUsV0FBQUMsR0FBQUEsRUFBQUMsSUFBQUwsSUFBQUUsR0FBQSxHQUFBRCxFQUFBSyxPQUFBSixFQUFBLEVBQUEsRUFLR0ssRUFBQSxDQUFBQyxFQUFBQyxPQUFBQSxhQUFBLEVBQUFBLEVBQUFDLGlCQUFBQyxFQUFBQyxHQUFBQyxLQUFBLENBQUFSLEVBQUFHLEVBQUFNLEVBQUFMLElBQUFNLEdB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
